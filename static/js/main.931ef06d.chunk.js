(this.webpackJsonpreport=this.webpackJsonpreport||[]).push([[0],{101:function(e,t){},106:function(e,t,a){},109:function(e,t,a){},136:function(e,t,a){},171:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t),a.d(t,"language",(function(){return fe})),a.d(t,"history",(function(){return be})),a.d(t,"locations",(function(){return ye}));var s=a(0),i=a.n(s),n=a(9),l=a.n(n),r=(a(87),a(2)),o=(a(106),a(39)),p=(a(108),a(109),a(30)),c=a(14),d=a(74),m=(e,t)=>l.a.findDOMNode(e).querySelectorAll(t+" .p-menuitem-link"),h=e=>{if(e){var t="";return te.votingPapers.forEach(a=>{a.id===e.id&&(t=a)}),t}return""},u=(e,t)=>{if(e){var a="";return t.forEach(t=>{t.id===e&&(a=t)}),a}return""},v=(e,t)=>{var a;return t.id===e?a=t:(t.groups&&t.groups.forEach(t=>{t.id===e?a=t:t.parties.forEach(t=>{t.id===e?a=t:t.candidates&&t.candidates.forEach(t=>{t.id===e&&(a=t)})})}),t.parties&&t.parties.forEach(t=>{t.id===e?a=t:t.candidates&&t.candidates.forEach(t=>{t.id===e&&(a=t)})})),a},g=(e,t)=>{var a=0;return t.votingPapers.forEach(t=>{var s=v(e,t);s&&(a=s.electors)}),a},E=(e,t)=>{var a,s,i=0;if(t.votingPapers.forEach(t=>{var i=v(e,t);i&&(a=i,s=t)}),a){var n=s.electors-s.blankPapers;i=(a.electors/n*100).toFixed(2),isNaN(i)&&(i=0)}return parseFloat(i)},f=(e,t)=>{var a=t.votingPapers.filter(t=>t.id===e);return a.length>0?a[0].blankPapers:0},b=e=>{var t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return e.affluence?new Date(e.affluence).toLocaleDateString(fe,t):(new Date).toLocaleDateString(fe,t)},y=e=>e?i.a.createElement(r.a,{id:"level_"+e.level},t=>t+" "+e.name):i.a.createElement(r.a,{id:fe,defaultMessage:"Great Britain"}),w=(e,t,a,s)=>{e.zones.forEach(e=>{e.zones&&(("little-nogroup"===t.type||s>0)&&a.push(e),w(e,t,a,s+1))})},C=(e,t,a,s,i)=>{t.forEach(t=>{t.id===e?t.zones.forEach(e=>{a.push({label:e.name,value:e.id}),s&&e.zones.forEach(e=>{s.push({label:e.name,value:e.id}),i&&e.zones.forEach(e=>{i.push({label:e.name,value:e.id})})})}):C(e,t.zones,a,s,i)})},T=e=>{e.sort((function(e,t){return e.label<t.label||e.name<t.name?-1:e.label>t.label||e.name>t.name?1:0}))},P=(e,t,a)=>{t.forEach(t=>{t.zones.forEach(s=>{s&&(s.id===e?a.push(t):P(e,t.zones,a))})})},S=[],x=[],M=[],N=[];class z extends s.Component{constructor(){super(),this.state={siteSuggestions:null}}suggestSites(e){var t=this.sites.filter(t=>t.name.toLowerCase().startsWith(e.query.toLowerCase()));this.setState({siteSuggestions:t})}reset(){this.setState({circumscription:null,region:null,province:null,city:null,site:null})}selectComplete(e){this.props.app.refs.results.setState({zone:e});var t,a=ye.zones.filter(t=>t.id===e.id)[0],s=ye.zones.flatMap(e=>e.zones).filter(t=>t.id===e.id)[0],i=ye.zones.flatMap(e=>e.zones).flatMap(e=>e.zones).filter(t=>t.id===e.id)[0],n=ye.zones.flatMap(e=>e.zones).flatMap(e=>e.zones).flatMap(e=>e.zones).filter(t=>t.id===e.id)[0];i||(P(n?n.id:null,ye.zones,t=[]),i=t.pop()),s||(P(i?i.id:n?n.id:null,ye.zones,t=[]),s=t.pop()),a||(P(s?s.id:i?i.id:n?n.id:null,ye.zones,t=[]),a=t.pop()),this.setState({circumscription:a?a.id:null,region:s?s.id:null,province:i?i.id:null,city:n?n.id:null})}renderLocations(){this.props.votingPaper&&ye&&("little-nogroup"===this.props.votingPaper.type&&(S=ye.zones.map(e=>({label:e.name,value:e.id}))),null===this.state.circumscription||"little-nogroup"!==this.props.votingPaper.type?x=ye.zones.flatMap(e=>e.zones).map(e=>({label:e.name,value:e.id})):C(this.state.circumscription,ye.zones,x=[],M=[],N=[]),null!==this.state.circumscription&&null===this.state.region||(null===this.state.region?M=ye.zones.flatMap(e=>e.zones).flatMap(e=>e.zones).map(e=>({label:e.name,value:e.id})):C(this.state.region,ye.zones,M=[],N=[])),(null===this.state.circumscription&&null===this.state.region||null!==this.state.province)&&(null===this.state.province?N=ye.zones.flatMap(e=>e.zones).flatMap(e=>e.zones).flatMap(e=>e.zones).map(e=>({label:e.name,value:e.id})):C(this.state.province,ye.zones,N=[])),this.sites=[],w(ye,this.props.votingPaper,this.sites,0),T(this.sites),T(N),T(M),T(x),T(S))}render(){return this.renderLocations(),i.a.createElement("div",null,i.a.createElement(r.a,{id:"app.search",defaultMessage:"Search site..."},e=>i.a.createElement(d.AutoComplete,{field:"name",className:"searchsites",value:this.state.site,onChange:e=>this.setState({site:e.value}),onSelect:e=>{this.selectComplete(e.value)},placeholder:e,suggestions:this.state.siteSuggestions,completeMethod:this.suggestSites.bind(this),size:38})),i.a.createElement(c.Button,{id:"btnSearch",icon:"pi pi-search"}),this.props.votingPaper&&"little-nogroup"===this.props.votingPaper.type&&i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-2"},i.a.createElement(r.a,{id:"app.circumscription",defaultMessage:"Circumscription"},e=>i.a.createElement("label",null,i.a.createElement("b",null,e))),i.a.createElement(r.a,{id:"app.choosecircumscription",defaultMessage:"Choose circumscription..."},e=>i.a.createElement(p.Dropdown,{value:this.state.circumscription,className:"city",onChange:e=>{this.setState({circumscription:e.value,region:null,province:null,city:null,site:null}),this.props.app.refs.results.setState({zone:u(e.value,this.sites)})},placeholder:e,options:S})))),i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-fixed",style:{width:"160px"}},i.a.createElement(r.a,{id:"app.region",defaultMessage:"Region"},e=>i.a.createElement("label",null,i.a.createElement("b",null,e))),i.a.createElement(r.a,{id:"app.chooseregion",defaultMessage:"Choose region..."},e=>i.a.createElement(p.Dropdown,{value:this.state.region,className:"choose",onChange:e=>{var t=[];P(e.value,ye.zones,t);var a=t.pop();this.setState({circumscription:null!==this.state.circumscription?this.state.circumscription:a.id,region:e.value,province:null,city:null,site:null}),this.props.app.refs.results.setState({zone:u(e.value,this.sites)})},placeholder:e,options:x}))),i.a.createElement("div",{className:"p-col-2"},i.a.createElement(r.a,{id:"app.province",defaultMessage:"Province"},e=>i.a.createElement("label",null,i.a.createElement("b",null,e))),i.a.createElement(r.a,{id:"app.chooseprovince",defaultMessage:"Choose province..."},e=>i.a.createElement(p.Dropdown,{value:this.state.province,className:"choose",onChange:e=>{var t=[];P(e.value,ye.zones,t);var a=t.pop(),s=[];P(a.id,ye.zones,s);var i=s.pop();this.setState({circumscription:null!==this.state.circumscription?this.state.circumscription:i.id,region:null!==this.state.region?this.state.region:a.id,province:e.value,city:null,site:null}),this.props.app.refs.results.setState({zone:u(e.value,this.sites)})},placeholder:e,options:M})))),i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-2"},i.a.createElement(r.a,{id:"app.city",defaultMessage:"City"},e=>i.a.createElement("label",null,i.a.createElement("b",null,e))),i.a.createElement(r.a,{id:"app.choosecity",defaultMessage:"Choose city..."},e=>i.a.createElement(p.Dropdown,{value:this.state.city,className:"city",onChange:e=>{var t=[];P(e.value,ye.zones,t);var a=t.pop(),s=[];P(a.id,ye.zones,s);var i=s.pop(),n=[];P(i.id,ye.zones,n);var l=n.pop();this.setState({circumscription:null!==this.state.circumscription?this.state.circumscription:l.id,region:null!==this.state.region?this.state.region:i.id,province:null!==this.state.province?this.state.province:a.id,city:e.value,site:null}),this.props.app.refs.results.setState({zone:u(e.value,this.sites)})},placeholder:e,options:N})))))}}var D=z,k=a(7),R=a(1),_=(a(136),a(75)),O=a.n(_),V=a(76),L=a.n(V),H=a(40),I=a.n(H);class F extends i.a.Component{constructor(e){super(e),this._initStompClient=()=>{this.client=L.a.over(new O.a(this.props.url,null,this.props.options)),this.client.heartbeat.outgoing=this.props.heartbeat,this.client.heartbeat.incoming=this.props.heartbeat,Object.keys(this.props).includes("heartbeatIncoming")&&(this.client.heartbeat.incoming=this.props.heartbeatIncoming),Object.keys(this.props).includes("heartbeatOutgoing")&&(this.client.heartbeat.outgoing=this.props.heartbeatOutgoing),this.props.debug||(this.client.debug=()=>{})},this._cleanUp=()=>{this.setState({connected:!1}),this.retryCount=0,this.subscriptions.clear()},this._log=e=>{this.props.debug&&console.log(e)},this._subscribe=e=>{if(!this.subscriptions.has(e)){var t=this.client.subscribe(e,e=>{this.props.onMessage(this._processMessage(e.body),e.headers.destination)},this.props.subscribeHeaders);this.subscriptions.set(e,t)}},this._processMessage=e=>{try{return JSON.parse(e)}catch(t){return e}},this._unsubscribe=e=>{this.subscriptions.get(e).unsubscribe(),this.subscriptions.delete(e)},this._connect=()=>{this._initStompClient(),this.client.connect(this.props.headers,()=>{this.setState({connected:!0}),this.props.topics.forEach(e=>{this._subscribe(e)}),this.props.onConnect()},e=>{e&&(Object.keys(this.props).includes("onConnectFailure")?this.props.onConnectFailure(e):this._log(e.stack)),this.state.connected&&(this._cleanUp(),this.props.onDisconnect()),this.props.autoReconnect&&!this.state.explicitDisconnect&&(this._timeoutId=setTimeout(this._connect,this.props.getRetryInterval(this.retryCount++)))})},this.connect=()=>{this.setState({explicitDisconnect:!1}),this.state.connected||this._connect()},this.disconnect=()=>{this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this.setState({explicitDisconnect:!0}),this.state.connected&&(this.subscriptions.forEach((e,t)=>{this._unsubscribe(t)}),this.client.disconnect(()=>{this._cleanUp(),this.props.onDisconnect(),this._log("Stomp client is successfully disconnected!")}))},this.sendMessage=(e,t,a={})=>{if(!this.state.connected)throw new Error("Send error: SockJsClient is disconnected");this.client.send(e,a,t)},this.state={connected:!1,explicitDisconnect:!1},this.subscriptions=new Map,this.retryCount=0}componentDidMount(){this._connect()}componentWillUnmount(){this.disconnect()}shouldComponentUpdate(e,t){return!1}UNSAFE_componentWillReceiveProps(e){this.state.connected&&(I.a.difference(e.topics,this.props.topics).forEach(e=>{this._log("Subscribing to topic: "+e),this._subscribe(e)}),I.a.difference(this.props.topics,e.topics).forEach(e=>{this._log("Unsubscribing from topic: "+e),this._unsubscribe(e)}))}render(){return null}}F.defaultProps={onConnect:()=>{},onDisconnect:()=>{},getRetryInterval:e=>1e3*e,options:{},headers:{},subscribeHeaders:{},autoReconnect:!0,debug:!1,heartbeat:1e4};var B=F;class j extends s.Component{candidateTemplate(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}renderDataTable(){var e="";if(this.props.party){var t=this.props.party.candidates.map(e=>{for(var t=g(e.id,this.props.votes[this.props.votes.length-1]),a={id:e.id,name:e.name,image:e.image,votes:t},s=0;s<this.props.votes.length;s++)a["votes"+s]=g(e.id,this.props.votes[s]);return a}),a=i.a.createElement(r.a,{id:"app.table.candidate",defaultMessage:"Candidate"}),s=i.a.createElement(r.a,{id:"app.table.preferences",defaultMessage:"Preferences"});if(0===this.props.app.state.activeTabVote.id)e=i.a.createElement(k.DataTable,{value:t,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table"},i.a.createElement(R.Column,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),i.a.createElement(R.Column,{field:"name",header:a,style:{width:"70%"}}),i.a.createElement(R.Column,{field:"votes",header:s}));else{for(var n=[],l=0;l<this.props.votes.length;l++){var o=i.a.createElement(r.a,{id:"app.tab.ballots.numbers",defaultMessage:"hours {0}",values:{0:new Date(this.props.votes[l].affluence).toLocaleTimeString(fe,{hour:"numeric",minute:"numeric"})}});n.push(i.a.createElement(R.Column,{key:"percent-columns-"+l,field:"votes"+l,header:o}))}e=i.a.createElement(k.DataTable,{value:t,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table"},i.a.createElement(R.Column,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),i.a.createElement(R.Column,{field:"name",header:a,style:{width:"50%"}}),n)}}return e}render(){if(this.props.party){var e="";return be||(e=i.a.createElement(B,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:e=>{this.setState({votes:e.votings})}})),i.a.createElement("div",{className:"tableContent"},e,i.a.createElement("div",{className:"party-for-candidates"},i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.party.image),alt:this.props.party.name,style:{width:"66px",left:"2%",bottom:"6px",position:"relative"}}),i.a.createElement("div",{className:"title-for-candidates"},this.props.party.name)),this.renderDataTable())}return""}}var A=a(21),G=(a(34),a(171),a(13)),U=a.n(G),W=a(15);class J extends s.Component{constructor(){super(),this.state={zone:null,showCandidates:null,selectedParty:null};var e="https://vota-voting.vige.it:8443/result";be&&(e="https://vota-history.vige.it:8643/result/"+be),U.a.get(e).then(e=>{this.setState({votes:e.data.votings,votingPaper:this.props.app.state.votingPaper})}).catch((function(e){console.log(e)})),this.partyTemplate=this.partyTemplate.bind(this),this.candidatesTemplate=this.candidatesTemplate.bind(this)}renderModalHeader(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,y(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(r.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}candidatesTemplate(e){var t=v(e.id,this.state.votingPaper);return t.candidates?i.a.createElement(c.Button,{label:e.name,className:"candidates-button",onClick:()=>this.setState({showCandidates:!0,selectedParty:t})}):e.name}partyTemplate(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}reset(){this.setState({zone:null})}render(){var e="",t="",a="",s="";if(this.state.votes||(s=i.a.createElement(W.ProgressSpinner,null)),this.state.votes&&this.state.votingPaper){be||(e=i.a.createElement(B,{url:"https://vota-votingpapers.vige.it:8543/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:e=>{this.setState({votingPaper:e.votingPapers.filter(e=>e.id===this.state.votingPaper.id)[0]})}}),t=i.a.createElement(B,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:e=>{this.setState({votes:e.votings})}}));var n=this.state.votes[this.state.votes.length-1],l=i.a.createElement(r.a,{id:"app.table.votings",defaultMessage:"Votings:"}),o=i.a.createElement(r.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),p=g(this.state.votingPaper.id,n),c=f(this.state.votingPaper.id,n),d=i.a.createElement(r.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),m=b(n),h=i.a.createElement("div",null,l," ",i.a.createElement("span",{className:"footer-value"},p)," \xa0",o," ",i.a.createElement("span",{className:"footer-value"},c)," \xa0",d," ",i.a.createElement("span",{className:"footer-value"},m)),u=this.state.votingPaper.parties.map(e=>{for(var t=g(e.id,n),a=E(e.id,n),s={id:e.id,name:e.name,image:e.image,votes:t,percent:a},i=0;i<this.state.votes.length;i++)s["percent"+i]=E(e.id,this.state.votes[i]);return s}),v=i.a.createElement(r.a,{id:"app.table.lists",defaultMessage:"Lists"}),w=i.a.createElement(r.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)a=i.a.createElement(k.DataTable,{value:u,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:h},i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:v,body:this.candidatesTemplate,style:{width:"70%"}}),i.a.createElement(R.Column,{field:"votes",header:w}),i.a.createElement(R.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var C=[],T=0;T<this.state.votes.length;T++){var P=i.a.createElement(r.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[T].affluence).toLocaleTimeString(fe,{hour:"numeric",minute:"numeric"})}});C.push(i.a.createElement(R.Column,{key:"percent-columns-"+T,field:"percent"+T,header:P,style:{width:"10%"}}))}a=i.a.createElement(k.DataTable,{value:u,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:h},i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:v,body:this.candidatesTemplate}),C)}}return i.a.createElement("div",{className:"tableContent"},s,e,t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,y(this.state.zone))),a,i.a.createElement(A.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:()=>this.setState({showCandidates:!1}),style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(j,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}var q=J,$=a(17),K=a(18);a(193);class Q extends s.Component{constructor(){super(),this.state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var e="https://vota-voting.vige.it:8443/result";be&&(e="https://vota-history.vige.it:8643/result/"+be),U.a.get(e).then(e=>{this.setState({votes:e.data.votings,votingPaper:this.props.app.state.votingPaper})}).catch((function(e){console.log(e)})),this.partyTemplate=this.partyTemplate.bind(this),this.listsTemplate=this.listsTemplate.bind(this),this.rowExpansionTemplate=this.rowExpansionTemplate.bind(this),this.candidatesTemplate=this.candidatesTemplate.bind(this)}renderModalHeader(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,y(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(r.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}candidatesTemplate(e){var t=v(e.id,this.state.votingPaper);return t.candidates?i.a.createElement(c.Button,{label:e.name,className:"candidates-button",onClick:()=>this.setState({showCandidates:!0,selectedParty:t})}):e.name}rowExpansionTemplate(e){var t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=v(e.id,this.state.votingPaper).parties,n=0,l=0,o=[],p=s.map(e=>{var t=g(e.id,a);n+=t;var s=E(e.id,a);l+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:t,percent:s},r=0;r<this.state.votes.length;r++)i["percent"+r]=E(e.id,this.state.votes[r]),o+=i["percent"+r];return i}),c="";if(s.length>1){var d=i.a.createElement(r.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),i.a.createElement(R.Column,{footer:n}),i.a.createElement(R.Column,{footer:l})));else{for(var m=[],h=0;h<this.state.votes.length;h++)m.push(i.a.createElement(R.Column,{key:"percent-columns-"+h,footer:o[h]}));c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),m))}}if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"biggernogroup-sub-header"},i.a.createElement(R.Column,null),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(R.Column,{field:"votes"}),i.a.createElement(R.Column,{field:"percent",style:{width:"8%"}}));else{for(var u,f=[],b=0;b<this.state.votes.length;b++)f.push(i.a.createElement(R.Column,{key:"percent-columns-"+b,field:"percent"+b,style:{width:"10%"}}));u=80-10*this.state.votes.length,t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"biggernogroup-sub-header"},i.a.createElement(R.Column,{style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",body:this.candidatesTemplate,style:{width:u+"%"}}),f)}}return t}partyTemplate(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}listsTemplate(e){var t;return t=v(e.id,this.state.votingPaper).parties.map(t=>t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}reset(){this.setState({zone:null})}renderDataTable(){var e="";if(this.state.votes&&this.state.votingPaper){var t=this.state.votes[this.state.votes.length-1],a=this.state.votingPaper.groups.map(e=>{for(var a=g(e.id,t),s=E(e.id,t),i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},n=0;n<this.state.votes.length;n++)i["percent"+n]=E(e.id,this.state.votes[n]);return i}),s=i.a.createElement(r.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=i.a.createElement(r.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),l=g(this.state.votingPaper.id,t),o=f(this.state.votingPaper.id,t),p=i.a.createElement(r.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),c=b(t),d=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",n," ",i.a.createElement("span",{className:"footer-value"},o)," \xa0",p," ",i.a.createElement("span",{className:"footer-value"},c)),m=i.a.createElement(r.a,{id:"app.table.candidatesandlists",defaultMessage:"Candidates and Lists"}),h=i.a.createElement(r.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table"},i.a.createElement(R.Column,{field:"id",expander:!0}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m,body:this.listsTemplate,className:"padding-name",style:{width:"70%"}}),i.a.createElement(R.Column,{field:"votes",header:h}),i.a.createElement(R.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var u,v=[],y=0;y<this.state.votes.length;y++){var w=i.a.createElement(r.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[y].affluence).toLocaleTimeString(fe,{hour:"numeric",minute:"numeric"})}});v.push(i.a.createElement(R.Column,{key:"percent-columns-"+y,field:"percent"+y,header:w,style:{width:"10%"}}))}u=80-10*this.state.votes.length,e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table"},i.a.createElement(R.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m,className:"padding-name",style:{width:u+"%"}}),v)}}return e}render(){var e="",t="",a="";return this.state.votes||(a=i.a.createElement(W.ProgressSpinner,null)),be||(e=i.a.createElement(B,{url:"https://vota-votingpapers.vige.it:8543/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:e=>{this.setState({votingPaper:e.votingPapers.filter(e=>e.id===this.state.votingPaper.id)[0]})}}),t=i.a.createElement(B,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:e=>{this.setState({votes:e.votings})}})),i.a.createElement("div",{className:"tableContent"},a,e,t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,y(this.state.zone))),this.renderDataTable(),i.a.createElement(A.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:()=>this.setState({showCandidates:!1}),style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(j,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}var X=Q;a(194);class Y extends s.Component{constructor(){super(),this.state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var e="https://vota-voting.vige.it:8443/result";be&&(e="https://vota-history.vige.it:8643/result/"+be),U.a.get(e).then(e=>{this.setState({votes:e.data.votings,votingPaper:this.props.app.state.votingPaper})}).catch((function(e){console.log(e)})),this.partyTemplate=this.partyTemplate.bind(this),this.listsTemplate=this.listsTemplate.bind(this),this.rowExpansionTemplate=this.rowExpansionTemplate.bind(this),this.candidatesTemplate=this.candidatesTemplate.bind(this)}renderModalHeader(){return i.a.createElement("div",null,i.a.createElement("h2",null,y(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(r.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}candidatesTemplate(e){var t=v(e.id,this.state.votingPaper);return t.candidates?i.a.createElement(c.Button,{label:e.name,className:"candidates-button",onClick:()=>this.setState({showCandidates:!0,selectedParty:t})}):e.name}rowExpansionTemplate(e){var t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=v(e.id,this.state.votingPaper).parties,n=0,l=0,o=[],p=s.map(e=>{var t=g(e.id,a);n+=t;var s=E(e.id,a);l+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:t,percent:s},r=0;r<this.state.votes.length;r++)i["percent"+r]=E(e.id,this.state.votes[r]),o+=i["percent"+r];return i}),c="";if(s.length>1){var d=i.a.createElement(r.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),i.a.createElement(R.Column,{footer:n}),i.a.createElement(R.Column,{footer:l})));else{for(var m=[],h=0;h<this.state.votes.length;h++)m.push(i.a.createElement(R.Column,{key:"percent-columns-"+h,footer:o[h]}));c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),m))}}if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"bigger-sub-header"},i.a.createElement(R.Column,null),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(R.Column,{field:"votes"}),i.a.createElement(R.Column,{field:"percent",style:{width:"8%"}}));else{for(var u=[],f=0;f<this.state.votes.length;f++)u.push(i.a.createElement(R.Column,{key:"percent-columns-"+f,field:"percent"+f,style:{width:"10%"}}));t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"bigger-sub-header"},i.a.createElement(R.Column,{style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",body:this.candidatesTemplate}),u)}}return t}partyTemplate(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}listsTemplate(e){var t;return t=v(e.id,this.state.votingPaper).parties.map(t=>t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}reset(){this.setState({zone:null})}renderDataTable(){var e="";if(this.state.votes&&this.state.votingPaper){var t=this.state.votes[this.state.votes.length-1],a=this.state.votingPaper.groups.map(e=>{for(var a=g(e.id,t),s=E(e.id,t),i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},n=0;n<this.state.votes.length;n++)i["percent"+n]=E(e.id,this.state.votes[n]);return i}),s=i.a.createElement(r.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=i.a.createElement(r.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),l=g(this.state.votingPaper.id,t),o=f(this.state.votingPaper.id,t),p=i.a.createElement(r.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),c=b(t),d=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",n," ",i.a.createElement("span",{className:"footer-value"},o)," \xa0",p," ",i.a.createElement("span",{className:"footer-value"},c)),m=i.a.createElement(r.a,{id:"app.table.governersandlists",defaultMessage:"Candidates and Lists"}),h=i.a.createElement(r.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table"},i.a.createElement(R.Column,{field:"id",expander:!0}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m,body:this.listsTemplate,style:{width:"70%"}}),i.a.createElement(R.Column,{field:"votes",header:h}),i.a.createElement(R.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var u=[],v=0;v<this.state.votes.length;v++){var y=i.a.createElement(r.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[v].affluence).toLocaleTimeString(fe,{hour:"numeric",minute:"numeric"})}});u.push(i.a.createElement(R.Column,{key:"percent-columns-"+v,field:"percent"+v,header:y,style:{width:"10%"}}))}e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table"},i.a.createElement(R.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m}),u)}}return e}render(){var e="",t="",a="";return this.state.votes||(a=i.a.createElement(W.ProgressSpinner,null)),be||(e=i.a.createElement(B,{url:"https://vota-votingpapers.vige.it:8543/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:e=>{this.setState({votingPaper:e.votingPapers.filter(e=>e.id===this.state.votingPaper.id)[0]})}}),t=i.a.createElement(B,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:e=>{this.setState({votes:e.votings})}})),i.a.createElement("div",{className:"tableContent"},a,e,t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,y(this.state.zone))),this.renderDataTable(),i.a.createElement(A.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:()=>this.setState({showCandidates:!1}),style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(j,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}var Z=Y;a(195);class ee extends s.Component{constructor(){super(),this.state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var e="https://vota-voting.vige.it:8443/result";be&&(e="https://vota-history.vige.it:8643/result/"+be),U.a.get(e).then(e=>{this.setState({votes:e.data.votings,votingPaper:this.props.app.state.votingPaper})}).catch((function(e){console.log(e)})),this.partyTemplate=this.partyTemplate.bind(this),this.listsTemplate=this.listsTemplate.bind(this),this.rowExpansionTemplate=this.rowExpansionTemplate.bind(this),this.candidatesTemplate=this.candidatesTemplate.bind(this)}renderModalHeader(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,y(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(r.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}candidatesTemplate(e){var t=v(e.id,this.state.votingPaper);return t.candidates?i.a.createElement(c.Button,{label:e.name,className:"candidates-button",onClick:()=>this.setState({showCandidates:!0,selectedParty:t})}):e.name}rowExpansionTemplate(e){var t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=v(e.id,this.state.votingPaper).parties,n=0,l=0,o=[],p=s.map(e=>{var t=g(e.id,a);n+=t;var s=E(e.id,a);l+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:t,percent:s},r=0;r<this.state.votes.length;r++)i["percent"+r]=E(e.id,this.state.votes[r]),o+=i["percent"+r];return i}),c="";if(s.length>1){var d=i.a.createElement(r.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),i.a.createElement(R.Column,{footer:n}),i.a.createElement(R.Column,{footer:l})));else{for(var m=[],h=0;h<this.state.votes.length;h++)m.push(i.a.createElement(R.Column,{key:"percent-columns-"+h,footer:o[h]}));c=i.a.createElement($.ColumnGroup,null,i.a.createElement(K.Row,null,i.a.createElement(R.Column,{colSpan:2}),i.a.createElement(R.Column,{footer:d}),m))}}if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"little-sub-header"},i.a.createElement(R.Column,null),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(R.Column,{field:"votes"}),i.a.createElement(R.Column,{field:"percent",style:{width:"8%"}}));else{for(var u=[],f=0;f<this.state.votes.length;f++)u.push(i.a.createElement(R.Column,{key:"percent-columns-"+f,field:"percent"+f,style:{width:"10%"}}));t=i.a.createElement(k.DataTable,{value:p,sortField:"votes",sortOrder:-1,footerColumnGroup:c,className:"little-sub-header"},i.a.createElement(R.Column,{style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",style:{width:"50%"},body:this.candidatesTemplate}),u)}}return t}partyTemplate(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}listsTemplate(e){var t;return t=v(e.id,this.state.votingPaper).parties.map(t=>t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}reset(){this.setState({zone:null})}renderDataTable(){var e="";if(this.state.votes&&this.state.votingPaper){var t=this.state.votes[this.state.votes.length-1],a=this.state.votingPaper.groups.map(e=>{for(var a=g(e.id,t),s=E(e.id,t),i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},n=0;n<this.state.votes.length;n++)i["percent"+n]=E(e.id,this.state.votes[n]);return i}),s=i.a.createElement(r.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=i.a.createElement(r.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),l=g(this.state.votingPaper.id,t),o=f(this.state.votingPaper.id,t),p=i.a.createElement(r.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),c=b(t),d=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",n," ",i.a.createElement("span",{className:"footer-value"},o)," \xa0",p," ",i.a.createElement("span",{className:"footer-value"},c)),m=i.a.createElement(r.a,{id:"app.table.premiersandlists",defaultMessage:"Premiers and Lists"}),h=i.a.createElement(r.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table"},i.a.createElement(R.Column,{field:"id",expander:!0}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m,body:this.listsTemplate,style:{width:"70%"}}),i.a.createElement(R.Column,{field:"votes",header:h}),i.a.createElement(R.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var u=[],v=0;v<this.state.votes.length;v++){var y=i.a.createElement(r.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[v].affluence).toLocaleTimeString(fe,{hour:"numeric",minute:"numeric"})}});u.push(i.a.createElement(R.Column,{key:"percent-columns-"+v,field:"percent"+v,header:y,style:{width:"10%"}}))}e=i.a.createElement(k.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:e=>this.setState({expandedRows:e.data}),rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table"},i.a.createElement(R.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(R.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(R.Column,{field:"name",header:m,style:{width:"50%"}}),u)}}return e}render(){var e="",t="",a="";return this.state.votes||(a=i.a.createElement(W.ProgressSpinner,null)),be||(e=i.a.createElement(B,{url:"https://vota-votingpapers.vige.it:8543/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:e=>{this.setState({votingPaper:e.votingPapers.filter(e=>e.id===this.state.votingPaper.id)[0]})}}),t=i.a.createElement(B,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:e=>{this.setState({votes:e.votings})}})),i.a.createElement("div",{className:"tableContent"},a,e,t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,y(this.state.zone))),this.renderDataTable(),i.a.createElement(A.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:()=>this.setState({showCandidates:!1}),style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(j,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}var te,ae=ee,se=(a(196),a(197),a(198),a(77)),ie=a.n(se);class ne extends s.Component{constructor(e){super(e);var t={};(te=e.config).votingPapers&&te.votingPapers[0]&&(t={id:te.votingPapers[0].id,label:te.votingPapers[0].name}),this.state={items:[],tabvotes:[{id:0,label:i.a.createElement(r.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})},{id:1,label:i.a.createElement(r.a,{id:"app.tab.voters",defaultMessage:"VOTERS"})}],activeItem:t,activeTabVote:{id:0,label:i.a.createElement(r.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})}},te.votingPapers.map(e=>this.state.items.push({id:e.id,label:e.name}))}componentDidMount(){var e=m(this,".vote-tabmenu");e&&e[0]&&(e[0].click(),be&&m(this,".vote-tabvotes")[0].click())}render(){var e="",t="";this.state.votingPaper&&("bigger-partygroup"===this.state.votingPaper.type?e=i.a.createElement(X,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"little"===this.state.votingPaper.type?e=i.a.createElement(ae,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"bigger"===this.state.votingPaper.type?e=i.a.createElement(Z,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"little-nogroup"===this.state.votingPaper.type&&(e=i.a.createElement(q,{ref:"results",votingPaper:this.state.votingPaper,app:this})));var a="";if(be){a=i.a.createElement(r.a,{id:"app.subtitle",values:{0:new Date(be).toLocaleDateString(fe,{year:"numeric",month:"long",day:"numeric"})},defaultMessage:" for {0}"}),t=i.a.createElement(o.TabMenu,{ref:"tabVotes",className:"vote-tabvotes",model:this.state.tabvotes,activeItem:this.state.activeTabVote,onTabChange:e=>{this.setState({activeTabVote:e.value}),this.refs.voteMap.reset(),this.refs.results&&this.refs.results.reset()}})}return i.a.createElement("div",{className:"html navbar-is-fixed-top cbp-spmenu-push excludeIE10 enhanced"},i.a.createElement("div",{className:"content-section implementation"},i.a.createElement("div",{className:"second-row"},i.a.createElement("div",{className:"container container-live"},i.a.createElement("div",{className:"box-live"},i.a.createElement("div",{className:"img-responsive inmlive"})),i.a.createElement("div",{className:"box-title"},i.a.createElement(r.a,{id:"app.title",defaultMessage:"Affluence and Results"},e=>i.a.createElement("p",null,i.a.createElement("strong",null,e,a)))),i.a.createElement("div",{className:"powered"},i.a.createElement("img",{alt:"logo",className:"logo",src:ie.a}),i.a.createElement(r.a,{id:"app.powered",defaultMessage:"Powered by"},e=>i.a.createElement("p",null,e," ",i.a.createElement("a",{href:"http://www.vige.it"},"Vige")))))),i.a.createElement(o.TabMenu,{ref:"tabMenu",className:"vote-tabmenu",model:this.state.items,activeItem:this.state.activeItem,onTabChange:e=>{this.setState({activeItem:e.value,votingPaper:h(e.value)}),this.refs.voteMap.reset(),this.refs.results&&this.refs.results.reset()}}),t,i.a.createElement("div",{className:"my-content p-grid"},i.a.createElement("div",{className:"p-col-fixed",style:{width:"360px",paddingRight:"40px"}},i.a.createElement(D,{ref:"voteMap",votingPaper:this.state.votingPaper,app:this})),i.a.createElement("div",{className:"p-col"},e))))}}var le=ne,re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e){if("serviceWorker"in navigator){if(new URL("/report",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{var t="".concat("/report","/service-worker.js");re?(!function(e,t){fetch(e).then(a=>{var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):pe(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):pe(t,e)})}}function pe(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{var a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}var ce=a(78),de=a.n(ce),me=a(79),he=a.n(me),ue=a(80);a(199);class ve extends i.a.Component{render(){return i.a.createElement("div",{className:"error-boundary"},i.a.createElement("h2",null,i.a.createElement(r.a,{id:"app.error",defaultMessage:"Something went wrong."})),i.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.props.error&&this.props.error.toString(),i.a.createElement("br",null),this.props.errorInfo.componentStack))}}var ge=ve;Object(r.c)([...de.a,...he.a]);var Ee={it:ue},fe=navigator.language.split(/[-_]/)[0],be="",ye="",we="https://vota-votingpapers.vige.it:8543/votingPapers";window.location.search.startsWith("?date=")&&(we="https://vota-history.vige.it:8643/votingPapers/"+(be=window.location.search.split("=")[1])),l.a.render(i.a.createElement(W.ProgressSpinner,null),document.getElementById("root")),U.a.get(we).then((function(e){U.a.get("https://cities-generator-service.vige.it:8743/cities").then((function(t){ye=t.data,l.a.render(i.a.createElement(r.b,{locale:fe,messages:Ee[fe]},i.a.createElement(le,{config:e.data})),document.getElementById("root")),oe()}))})).catch((function(e){l.a.render(i.a.createElement(r.b,{locale:fe,messages:Ee[fe]},i.a.createElement(ge,{error:e,errorInfo:e})),document.getElementById("root")),console.log(e)}))},34:function(e,t,a){},72:function(e,t){},77:function(e,t,a){e.exports=a.p+"static/media/logo.71fca57e.ico"},80:function(e){e.exports=JSON.parse('{"it":"Italia","level_0":"Circ. ","level_1":"Regione ","level_2":"Provincia di ","level_3":"Comune di ","app.powered":"Sviluppato da ","app.title":"Affluenza e Risultati","app.subtitle":" del {0}","app.region":"Regione","app.province":"Provincia","app.search":"Cerca ente...","app.chooseregion":"Scegli regione...","app.chooseprovince":"Scegli provincia...","app.choosecity":"Scegli comune...","app.choosecircumscription":"Scegli circoscrizione...","app.city":"Comune","app.circumscription":"Circoscrizione","app.table.lists":"Liste","app.table.candidatesandlists":"Candidati Presidente e Liste circoscrizionali","app.table.candidate":"Candidato","app.table.governersandlists":"Candidati Sindaco e Liste","app.table.premiersandlists":"Candidati Premier e Liste","app.table.candidatesandelected":"Candidati ed Eletti","app.table.votes":"Voti","app.table.preferences":"Preferenze","app.table.votings":"Votanti:","app.table.totallists":"Totale liste","app.table.blankpapers":"Schede bianche:","app.table.updatedate":"Dato aggiornato al:","app.error":"Errore","app.tab.ballots":"SCRUTINI","app.tab.ballots.hours":"% ore {0}","app.tab.ballots.numbers":"ore {0}","app.tab.voters":"VOTANTI"}')},82:function(e,t,a){e.exports=a(201)},87:function(e,t,a){},95:function(e,t){}},[[82,1,2]]]);
//# sourceMappingURL=main.931ef06d.chunk.js.map