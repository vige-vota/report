(this.webpackJsonpreport=this.webpackJsonpreport||[]).push([[0],{117:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t),a.d(t,"language",(function(){return ce})),a.d(t,"history",(function(){return le}));var s=a(0),i=a.n(s),n=a(17),o=a.n(n),r=(a(89),a(10)),c=a(11),l=a(15),d=a(14),p=a(165),h=(a(90),a(42)),u=(a(93),a(94),a(2)),b=function(e){if(e){var t="";return A.votingPapers.forEach((function(a){a.id===e.id&&(t=a)})),t}return""},j=function(e){if(e){var t="";return A.votingPapers.forEach((function(a){a.zone&&a.zone===e&&(t=a)})),t}return""},v=function e(t,a,s){for(var i=0;i<s.length;i++){var n=s[i];n.id!==a&&a?e(t,a,n.zones):t[0]=n}},g=function e(t,a){for(var s=0;s<a.length;s++){var i=a[s];i.zones.length>0&&(t[i.id]=!0),e(t,i.zones)}},f=function e(t){for(var a=0;a<t.length;a++){var s=t[a];return 0===s.zones.length?s.id:e(s.zones)}},m=function(e,t){var a;return t.id===e?a=t:(t.groups&&t.groups.forEach((function(t){t.id===e?a=t:t.parties.forEach((function(t){t.id===e?a=t:t.candidates&&t.candidates.forEach((function(t){t.id===e&&(a=t)}))}))})),t.parties&&t.parties.forEach((function(t){t.id===e?a=t:t.candidates&&t.candidates.forEach((function(t){t.id===e&&(a=t)}))}))),a},x=function(e,t){var a=0;return t.votingPapers.forEach((function(t){var s=m(e,t);s&&(a=s.electors)})),a},O=function(e,t){var a,s,i=0;if(t.votingPapers.forEach((function(t){var i=m(e,t);i&&(a=i,s=t)})),a){var n=s.electors-s.blankPapers;i=(a.electors/n*100).toFixed(2),isNaN(i)&&(i=0)}return parseFloat(i)},y=function(e,t){var a=t.votingPapers.filter((function(t){return t.id===e}));return a.length>0?a[0].blankPapers:0},w=function(e){var t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return e.affluence?new Date(e.affluence).toLocaleDateString(ce,t):(new Date).toLocaleDateString(ce,t)},T=function(e){return e?Object(u.jsx)(p.a,{id:"level_"+e.level,children:function(t){return t+" "+e.name}}):Object(u.jsx)(p.a,{id:ce,defaultMessage:"Great Britain"})},P=a(81),k=a(22),S=a.n(k),C=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,[{key:"getTreeZones",value:function(e){var t="http://cities-generator-service.vige.it:8380/cities/"+e+"?all";return S.a.get(t)}},{key:"convert",value:function(e,t){var a=this;return e.map((function(e){return{key:e.id,data:e.id,label:e.name,icon:"pi pi-fw pi-cog",selectable:t.filter((function(t){return t.zone===e.id})).length>0,children:a.convert(e.zones,t)}}))}},{key:"zonesFrom",value:function(e){return e.filter((function(e){return e.zone})).map((function(e){return e.zone})).sort().join()}}]),e}(),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={sites:null,tabvotes:[{id:0,label:Object(u.jsx)(p.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})},{id:1,label:Object(u.jsx)(p.a,{id:"app.tab.voters",defaultMessage:"VOTERS"})}]},e.zoneSelect=i.a.createRef(),e.zoneService=new C,e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app.props.config.votingPapers;this.zoneService.getTreeZones(this.zoneService.zonesFrom(t)).then((function(a){var s={};g(s,a.data.zones);var i=f(a.data.zones);e.setState({site:i,expandedKeys:s,zones:a.data.zones,sites:e.zoneService.convert(a.data.zones,t)});var n=[];v(n,i,a.data.zones);var o=j(i);e.props.app.setState({votingPaper:o,zone:n[0]})}))}},{key:"componentDidUpdate",value:function(){this.zoneSelect.current&&this.zoneSelect.current.setState({expandedKeys:this.state.expandedKeys})}},{key:"render",value:function(){var e=this,t="";le&&(t=Object(u.jsx)(h.a,{ref:"tabVotes",className:"vote-tabvotes",model:this.state.tabvotes,activeIndex:this.props.app.state.activeTabVoteIndex,onTabChange:function(t){e.props.app.setState({activeTabVote:t.value,activeTabVoteIndex:t.index})}}));var a="";return!this.props.votingPaper||"bigger"!==this.props.votingPaper.type&&"bigger-partygroup"!==this.props.votingPaper.type||(a=Object(u.jsx)(p.a,{id:"app.choosezone",defaultMessage:"Choose zone",children:function(t){return Object(u.jsx)(P.a,{ref:e.zoneSelect,value:e.state.site,options:e.state.sites,onChange:function(t){e.setState({site:t.value});var a=[];v(a,t.value,e.state.zones);var s=j(t.value);e.props.app.setState({votingPaper:s,zone:a[0]}),e.props.app.state.items[0].id=s.id,e.props.app.state.items[0].label=s.name},filter:!0,placeholder:t[0]})}})),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"p-grid",children:Object(u.jsxs)("div",{className:"p-col-2",children:[a,t]})})})}}]),a}(s.Component),N=a(13),E=a(9),z=a(4),R=a(30),D=(a(117),a(78)),_=a.n(D),I=a(79),V=a.n(I),H=a(52),F=a.n(H),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e))._initStompClient=function(){s.client=V.a.over(new _.a(s.props.url,null,s.props.options)),s.client.heartbeat.outgoing=s.props.heartbeat,s.client.heartbeat.incoming=s.props.heartbeat,Object.keys(s.props).includes("heartbeatIncoming")&&(s.client.heartbeat.incoming=s.props.heartbeatIncoming),Object.keys(s.props).includes("heartbeatOutgoing")&&(s.client.heartbeat.outgoing=s.props.heartbeatOutgoing),s.props.debug||(s.client.debug=function(){})},s._cleanUp=function(){s.setState({connected:!1}),s.retryCount=0,s.subscriptions.clear()},s._log=function(e){s.props.debug&&console.log(e)},s._subscribe=function(e){if(!s.subscriptions.has(e)){var t=s.client.subscribe(e,(function(e){s.props.onMessage(s._processMessage(e.body),e.headers.destination)}),s.props.subscribeHeaders);s.subscriptions.set(e,t)}},s._processMessage=function(e){try{return JSON.parse(e)}catch(t){return e}},s._unsubscribe=function(e){s.subscriptions.get(e).unsubscribe(),s.subscriptions.delete(e)},s._connect=function(){s._initStompClient(),s.client.connect(s.props.headers,(function(){s.setState({connected:!0}),s.props.topics.forEach((function(e){s._subscribe(e)})),s.props.onConnect()}),(function(e){e&&(Object.keys(s.props).includes("onConnectFailure")?s.props.onConnectFailure(e):s._log(e.stack)),s.state.connected&&(s._cleanUp(),s.props.onDisconnect()),s.props.autoReconnect&&!s.state.explicitDisconnect&&(s._timeoutId=setTimeout(s._connect,s.props.getRetryInterval(s.retryCount++)))}))},s.connect=function(){s.setState({explicitDisconnect:!1}),s.state.connected||s._connect()},s.disconnect=function(){s._timeoutId&&(clearTimeout(s._timeoutId),s._timeoutId=null),s.setState({explicitDisconnect:!0}),s.state.connected&&(s.subscriptions.forEach((function(e,t){s._unsubscribe(t)})),s.client.disconnect((function(){s._cleanUp(),s.props.onDisconnect(),s._log("Stomp client is successfully disconnected!")})))},s.sendMessage=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s.state.connected)throw new Error("Send error: SockJsClient is disconnected");s.client.send(e,a,t)},s.state={connected:!1,explicitDisconnect:!1},s.subscriptions=new Map,s.retryCount=0,s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this._connect()}},{key:"componentWillUnmount",value:function(){this.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.state.connected&&(F.a.difference(e.topics,this.props.topics).forEach((function(e){t._log("Subscribing to topic: "+e),t._subscribe(e)})),F.a.difference(this.props.topics,e.topics).forEach((function(e){t._log("Unsubscribing from topic: "+e),t._unsubscribe(e)})))}},{key:"render",value:function(){return null}}]),a}(i.a.Component);L.defaultProps={onConnect:function(){},onDisconnect:function(){},getRetryInterval:function(e){return 1e3*e},options:{},headers:{},subscribeHeaders:{},autoReconnect:!0,debug:!1,heartbeat:1e4};var A,U=L,B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"candidateTemplate",value:function(e){return e.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.props.party){var a=this.props.party.candidates.map((function(t){for(var a=x(t.id,e.props.votes[e.props.votes.length-1]),s={id:t.id,name:t.name,image:t.image,votes:a},i=0;i<e.props.votes.length;i++)s["votes"+i]=x(t.id,e.props.votes[i]);return s})),s=Object(u.jsx)(p.a,{id:"app.table.candidate",defaultMessage:"Candidate"}),i=Object(u.jsx)(p.a,{id:"app.table.preferences",defaultMessage:"Preferences"});if(0===this.props.app.state.activeTabVote.id)t=Object(u.jsxs)(E.a,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table",children:[Object(u.jsx)(z.a,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),Object(u.jsx)(z.a,{field:"name",header:s,style:{width:"70%"}}),Object(u.jsx)(z.a,{field:"votes",header:i})]});else{for(var n=[],o=0;o<this.props.votes.length;o++){var r=Object(u.jsx)(p.a,{id:"app.tab.ballots.numbers",defaultMessage:"hours {0}",values:{0:new Date(this.props.votes[o].affluence).toLocaleTimeString(ce,{hour:"numeric",minute:"numeric"})}});n.push(Object(u.jsx)(z.a,{field:"votes"+o,header:r},"percent-columns-"+o))}t=Object(u.jsxs)(E.a,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table",children:[Object(u.jsx)(z.a,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),Object(u.jsx)(z.a,{field:"name",header:s,style:{width:"50%"}}),n]})}}return t}},{key:"render",value:function(){var e=this;if(this.props.party){var t="";return le||(t=Object(u.jsx)(U,{url:"http://vota-voting.vige.it:8080/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),Object(u.jsxs)("div",{className:"tableContent",children:[t,Object(u.jsxs)("div",{className:"party-for-candidates",children:[Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(this.props.party.image),alt:this.props.party.name,style:{width:"66px",left:"2%",bottom:"6px",position:"relative"}}),Object(u.jsx)("div",{className:"title-for-candidates",children:this.props.party.name})]}),this.renderDataTable()]})}return""}}]),a}(s.Component),W=a(31),G=(a(41),a(152),a(23)),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a),(e=t.call(this)).state={showCandidates:null,selectedParty:null};var s="http://vota-voting.vige.it:8080/result";return le&&(s="http://vota-history.vige.it:8280/result/"+le),S.a.get(s).then((function(t){e.setState({votes:t.data.votings,votingPaper:e.props.app.state.votingPaper})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(N.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(N.a)(e)),e}return Object(c.a)(a,[{key:"renderModalHeader",value:function(){return Object(u.jsxs)("div",{id:"headEnti",children:[Object(u.jsx)("h2",{children:T()}),Object(u.jsx)("h3",{children:Object(u.jsx)(p.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})})]})}},{key:"candidatesTemplate",value:function(e){var t=this,a=m(e.id,this.state.votingPaper);return a.candidates?Object(u.jsx)(R.a,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"partyTemplate",value:function(e){return e.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"50%",left:"10%",top:"2px",position:"relative"}}):""}},{key:"render",value:function(){var e=this,t="",a="",s="",i="";if(this.state.votes||(i=Object(u.jsx)(G.a,{})),this.state.votes&&this.state.votingPaper){le||(t=Object(u.jsx)(U,{url:"http://vota-votingpapers.vige.it:8180/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:function(t){e.setState({votingPaper:t.votingPapers.filter((function(t){return t.id===e.state.votingPaper.id}))[0]})}}),a=Object(u.jsx)(U,{url:"http://vota-voting.vige.it:8080/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}}));var n=this.state.votes[this.state.votes.length-1],o=Object(u.jsx)(p.a,{id:"app.table.votings",defaultMessage:"Votings:"}),r=Object(u.jsx)(p.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),c=x(this.state.votingPaper.id,n),l=y(this.state.votingPaper.id,n),d=Object(u.jsx)(p.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),h=w(n),b=Object(u.jsxs)("div",{children:[o," ",Object(u.jsx)("span",{className:"footer-value",children:c})," \xa0",r," ",Object(u.jsx)("span",{className:"footer-value",children:l})," \xa0",d," ",Object(u.jsx)("span",{className:"footer-value",children:h})]}),j=this.state.votingPaper.parties.map((function(t){for(var a=x(t.id,n),s=O(t.id,n),i={id:t.id,name:t.name,image:t.image,votes:a,percent:s},o=0;o<e.state.votes.length;o++)i["percent"+o]=O(t.id,e.state.votes[o]);return i})),v=Object(u.jsx)(p.a,{id:"app.table.lists",defaultMessage:"Lists"}),g=Object(u.jsx)(p.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)s=Object(u.jsxs)(E.a,{value:j,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:b,children:[Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:v,body:this.candidatesTemplate,style:{width:"70%"}}),Object(u.jsx)(z.a,{field:"votes",header:g}),Object(u.jsx)(z.a,{field:"percent",header:"%",style:{width:"8%"}})]});else{for(var f=[],m=0;m<this.state.votes.length;m++){var P=Object(u.jsx)(p.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[m].affluence).toLocaleTimeString(ce,{hour:"numeric",minute:"numeric"})}});f.push(Object(u.jsx)(z.a,{field:"percent"+m,header:P,style:{width:"10%"}},"percent-columns-"+m))}s=Object(u.jsxs)(E.a,{value:j,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:b,children:[Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:v,body:this.candidatesTemplate}),f]})}}return Object(u.jsxs)("div",{className:"tableContent",children:[i,t,a,Object(u.jsx)("div",{id:"headEnti",children:Object(u.jsx)("h3",{children:T()})}),s,Object(u.jsx)(W.a,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader(),children:Object(u.jsx)(B,{party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})})]})}}]),a}(s.Component),K=a(27),Z=a(28),q=(a(153),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a),(e=t.call(this)).state={expandedRows:null,showCandidates:null,selectedParty:null};var s="http://vota-voting.vige.it:8080/result";return le&&(s="http://vota-history.vige.it:8280/result/"+le),S.a.get(s).then((function(t){e.setState({votes:t.data.votings,votingPaper:e.props.app.state.votingPaper})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(N.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(N.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(N.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(N.a)(e)),e}return Object(c.a)(a,[{key:"renderModalHeader",value:function(){return Object(u.jsxs)("div",{id:"headEnti",children:[Object(u.jsx)("h2",{children:T(this.props.app.state.zone)}),Object(u.jsx)("h3",{children:Object(u.jsx)(p.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})})]})}},{key:"candidatesTemplate",value:function(e){var t=this,a=m(e.id,this.state.votingPaper);return a.candidates?Object(u.jsx)(R.a,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.state.votingPaper){var s=this.state.votes[this.state.votes.length-1],i=m(e.id,this.state.votingPaper).parties,n=0,o=0,r=[],c=i.map((function(e){var a=x(e.id,s);n+=a;var i=O(e.id,s);o+=i;for(var c={id:e.id,name:e.name,image:e.image,votes:a,percent:i},l=0;l<t.state.votes.length;l++)c["percent"+l]=O(e.id,t.state.votes[l]),r+=c["percent"+l];return c})),l="";if(i.length>1){var d=Object(u.jsx)(p.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),Object(u.jsx)(z.a,{footer:n}),Object(u.jsx)(z.a,{footer:o})]})});else{for(var h=[],b=0;b<this.state.votes.length;b++)h.push(Object(u.jsx)(z.a,{footer:r[b]},"percent-columns-"+b));l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),h]})})}}if(0===this.props.app.state.activeTabVote.id)a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"biggernogroup-sub-header",children:[Object(u.jsx)(z.a,{}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),Object(u.jsx)(z.a,{field:"votes"}),Object(u.jsx)(z.a,{field:"percent",style:{width:"8%"}})]});else{for(var j,v=[],g=0;g<this.state.votes.length;g++)v.push(Object(u.jsx)(z.a,{field:"percent"+g,style:{width:"10%"}},"percent-columns-"+g));j=80-10*this.state.votes.length,a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"biggernogroup-sub-header",children:[Object(u.jsx)(z.a,{style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",body:this.candidatesTemplate,style:{width:j+"%"}}),v]})}}return a}},{key:"partyTemplate",value:function(e){return e.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"50%",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=m(e.id,this.state.votingPaper).parties.map((function(t){return t.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}},t.id):""})),Object(u.jsxs)("div",{children:[e.name,Object(u.jsx)("div",{className:"border-images",children:Object(u.jsx)("span",{className:"party-images",children:t})})]})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=this.state.votingPaper.groups.map((function(t){for(var s=x(t.id,a),i=O(t.id,a),n={id:t.id,name:t.name,image:t.image,votes:s,percent:i},o=0;o<e.state.votes.length;o++)n["percent"+o]=O(t.id,e.state.votes[o]);return n})),i=Object(u.jsx)(p.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=Object(u.jsx)(p.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),o=x(this.state.votingPaper.id,a),r=y(this.state.votingPaper.id,a),c=Object(u.jsx)(p.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),l=w(a),d=Object(u.jsxs)("div",{children:[i," ",Object(u.jsx)("span",{className:"footer-value",children:o})," \xa0",n," ",Object(u.jsx)("span",{className:"footer-value",children:r})," \xa0",c," ",Object(u.jsx)("span",{className:"footer-value",children:l})]}),h=Object(u.jsx)(p.a,{id:"app.table.candidatesandlists",defaultMessage:"Candidates and Lists"}),b=Object(u.jsx)(p.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h,body:this.listsTemplate,className:"padding-name",style:{width:"70%"}}),Object(u.jsx)(z.a,{field:"votes",header:b}),Object(u.jsx)(z.a,{field:"percent",header:"%",style:{width:"8%"}})]});else{for(var j,v=[],g=0;g<this.state.votes.length;g++){var f=Object(u.jsx)(p.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[g].affluence).toLocaleTimeString(ce,{hour:"numeric",minute:"numeric"})}});v.push(Object(u.jsx)(z.a,{field:"percent"+g,header:f,style:{width:"10%"}},"percent-columns-"+g))}j=80-10*this.state.votes.length,t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0,style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h,className:"padding-name",style:{width:j+"%"}}),v]})}}return t}},{key:"render",value:function(){var e=this,t="",a="",s="";return this.state.votes||(s=Object(u.jsx)(G.a,{})),le||(t=Object(u.jsx)(U,{url:"http://vota-votingpapers.vige.it:8180/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:function(t){e.setState({votingPaper:t.votingPapers.filter((function(t){return t.id===e.state.votingPaper.id}))[0]})}}),a=Object(u.jsx)(U,{url:"http://vota-voting.vige.it:8080/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),Object(u.jsxs)("div",{className:"tableContent",children:[s,t,a,Object(u.jsx)("div",{id:"headEnti",children:Object(u.jsx)("h3",{children:T(this.props.app.state.zone)})}),this.renderDataTable(),Object(u.jsx)(W.a,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader(),children:Object(u.jsx)(B,{zone:this.props.app.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})})]})}}]),a}(s.Component)),$=(a(154),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a),(e=t.call(this)).state={expandedRows:null,showCandidates:null,selectedParty:null};var s="http://vota-voting.vige.it:8080/result";return le&&(s="http://vota-history.vige.it:8280/result/"+le),S.a.get(s).then((function(t){e.setState({votes:t.data.votings,votingPaper:e.props.app.state.votingPaper})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(N.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(N.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(N.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(N.a)(e)),e}return Object(c.a)(a,[{key:"renderModalHeader",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:T(this.props.app.state.zone)}),Object(u.jsx)("h3",{children:Object(u.jsx)(p.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})})]})}},{key:"candidatesTemplate",value:function(e){var t=this,a=m(e.id,this.state.votingPaper);return a.candidates?Object(u.jsx)(R.a,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.state.votingPaper){var s=this.state.votes[this.state.votes.length-1],i=m(e.id,this.state.votingPaper).parties,n=0,o=0,r=[],c=i.map((function(e){var a=x(e.id,s);n+=a;var i=O(e.id,s);o+=i;for(var c={id:e.id,name:e.name,image:e.image,votes:a,percent:i},l=0;l<t.state.votes.length;l++)c["percent"+l]=O(e.id,t.state.votes[l]),r+=c["percent"+l];return c})),l="";if(i.length>1){var d=Object(u.jsx)(p.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),Object(u.jsx)(z.a,{footer:n}),Object(u.jsx)(z.a,{footer:o})]})});else{for(var h=[],b=0;b<this.state.votes.length;b++)h.push(Object(u.jsx)(z.a,{footer:r[b]},"percent-columns-"+b));l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),h]})})}}if(0===this.props.app.state.activeTabVote.id)a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"bigger-sub-header",children:[Object(u.jsx)(z.a,{}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),Object(u.jsx)(z.a,{field:"votes"}),Object(u.jsx)(z.a,{field:"percent",style:{width:"8%"}})]});else{for(var j=[],v=0;v<this.state.votes.length;v++)j.push(Object(u.jsx)(z.a,{field:"percent"+v,style:{width:"10%"}},"percent-columns-"+v));a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"bigger-sub-header",children:[Object(u.jsx)(z.a,{style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",body:this.candidatesTemplate}),j]})}}return a}},{key:"partyTemplate",value:function(e){return e.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"50%",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=m(e.id,this.state.votingPaper).parties.map((function(t){return t.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}},t.id):""})),Object(u.jsxs)("div",{children:[e.name,Object(u.jsx)("div",{className:"border-images",children:Object(u.jsx)("span",{className:"party-images",children:t})})]})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=this.state.votingPaper.groups.map((function(t){for(var s=x(t.id,a),i=O(t.id,a),n={id:t.id,name:t.name,image:t.image,votes:s,percent:i},o=0;o<e.state.votes.length;o++)n["percent"+o]=O(t.id,e.state.votes[o]);return n})),i=Object(u.jsx)(p.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=Object(u.jsx)(p.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),o=x(this.state.votingPaper.id,a),r=y(this.state.votingPaper.id,a),c=Object(u.jsx)(p.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),l=w(a),d=Object(u.jsxs)("div",{children:[i," ",Object(u.jsx)("span",{className:"footer-value",children:o})," \xa0",n," ",Object(u.jsx)("span",{className:"footer-value",children:r})," \xa0",c," ",Object(u.jsx)("span",{className:"footer-value",children:l})]}),h=Object(u.jsx)(p.a,{id:"app.table.governersandlists",defaultMessage:"Candidates and Lists"}),b=Object(u.jsx)(p.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h,body:this.listsTemplate,style:{width:"70%"}}),Object(u.jsx)(z.a,{field:"votes",header:b}),Object(u.jsx)(z.a,{field:"percent",header:"%",style:{width:"8%"}})]});else{for(var j=[],v=0;v<this.state.votes.length;v++){var g=Object(u.jsx)(p.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[v].affluence).toLocaleTimeString(ce,{hour:"numeric",minute:"numeric"})}});j.push(Object(u.jsx)(z.a,{field:"percent"+v,header:g,style:{width:"10%"}},"percent-columns-"+v))}t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0,style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h}),j]})}}return t}},{key:"render",value:function(){var e=this,t="",a="",s="";return this.state.votes||(s=Object(u.jsx)(G.a,{})),le||(t=Object(u.jsx)(U,{url:"http://vota-votingpapers.vige.it:8180/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:function(t){e.setState({votingPaper:t.votingPapers.filter((function(t){return t.id===e.state.votingPaper.id}))[0]})}}),a=Object(u.jsx)(U,{url:"http://vota-voting.vige.it:8080/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),Object(u.jsxs)("div",{className:"tableContent",children:[s,t,a,Object(u.jsx)("div",{id:"headEnti",children:Object(u.jsx)("h3",{children:T(this.props.app.state.zone)})}),this.renderDataTable(),Object(u.jsx)(W.a,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader(),children:Object(u.jsx)(B,{zone:this.props.app.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})})]})}}]),a}(s.Component)),Q=(a(155),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a),(e=t.call(this)).state={expandedRows:null,showCandidates:null,selectedParty:null};var s="http://vota-voting.vige.it:8080/result";return le&&(s="http://vota-history.vige.it:8280/result/"+le),S.a.get(s).then((function(t){e.setState({votes:t.data.votings,votingPaper:e.props.app.state.votingPaper})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(N.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(N.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(N.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(N.a)(e)),e}return Object(c.a)(a,[{key:"renderModalHeader",value:function(){return Object(u.jsxs)("div",{id:"headEnti",children:[Object(u.jsx)("h2",{children:T()}),Object(u.jsx)("h3",{children:Object(u.jsx)(p.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})})]})}},{key:"candidatesTemplate",value:function(e){var t=this,a=m(e.id,this.state.votingPaper);return a.candidates?Object(u.jsx)(R.a,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.state.votingPaper){var s=this.state.votes[this.state.votes.length-1],i=m(e.id,this.state.votingPaper).parties,n=0,o=0,r=[],c=i.map((function(e){var a=x(e.id,s);n+=a;var i=O(e.id,s);o+=i;for(var c={id:e.id,name:e.name,image:e.image,votes:a,percent:i},l=0;l<t.state.votes.length;l++)c["percent"+l]=O(e.id,t.state.votes[l]),r+=c["percent"+l];return c})),l="";if(i.length>1){var d=Object(u.jsx)(p.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),Object(u.jsx)(z.a,{footer:n}),Object(u.jsx)(z.a,{footer:o})]})});else{for(var h=[],b=0;b<this.state.votes.length;b++)h.push(Object(u.jsx)(z.a,{footer:r[b]},"percent-columns-"+b));l=Object(u.jsx)(K.a,{children:Object(u.jsxs)(Z.a,{children:[Object(u.jsx)(z.a,{colSpan:2}),Object(u.jsx)(z.a,{footer:d}),h]})})}}if(0===this.props.app.state.activeTabVote.id)a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"little-sub-header",children:[Object(u.jsx)(z.a,{}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),Object(u.jsx)(z.a,{field:"votes"}),Object(u.jsx)(z.a,{field:"percent",style:{width:"8%"}})]});else{for(var j=[],v=0;v<this.state.votes.length;v++)j.push(Object(u.jsx)(z.a,{field:"percent"+v,style:{width:"10%"}},"percent-columns-"+v));a=Object(u.jsxs)(E.a,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:l,className:"little-sub-header",children:[Object(u.jsx)(z.a,{style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",style:{width:"50%"},body:this.candidatesTemplate}),j]})}}return a}},{key:"partyTemplate",value:function(e){return e.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"50%",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=m(e.id,this.state.votingPaper).parties.map((function(t){return t.image?Object(u.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}},t.id):""})),Object(u.jsxs)("div",{children:[e.name,Object(u.jsx)("div",{className:"border-images",children:Object(u.jsx)("span",{className:"party-images",children:t})})]})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],s=this.state.votingPaper.groups.map((function(t){for(var s=x(t.id,a),i=O(t.id,a),n={id:t.id,name:t.name,image:t.image,votes:s,percent:i},o=0;o<e.state.votes.length;o++)n["percent"+o]=O(t.id,e.state.votes[o]);return n})),i=Object(u.jsx)(p.a,{id:"app.table.votings",defaultMessage:"Votings:"}),n=Object(u.jsx)(p.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),o=x(this.state.votingPaper.id,a),r=y(this.state.votingPaper.id,a),c=Object(u.jsx)(p.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),l=w(a),d=Object(u.jsxs)("div",{children:[i," ",Object(u.jsx)("span",{className:"footer-value",children:o})," \xa0",n," ",Object(u.jsx)("span",{className:"footer-value",children:r})," \xa0",c," ",Object(u.jsx)("span",{className:"footer-value",children:l})]}),h=Object(u.jsx)(p.a,{id:"app.table.premiersandlists",defaultMessage:"Premiers and Lists"}),b=Object(u.jsx)(p.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h,body:this.listsTemplate,style:{width:"70%"}}),Object(u.jsx)(z.a,{field:"votes",header:b}),Object(u.jsx)(z.a,{field:"percent",header:"%",style:{width:"8%"}})]});else{for(var j=[],v=0;v<this.state.votes.length;v++){var g=Object(u.jsx)(p.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[v].affluence).toLocaleTimeString(ce,{hour:"numeric",minute:"numeric"})}});j.push(Object(u.jsx)(z.a,{field:"percent"+v,header:g,style:{width:"10%"}},"percent-columns-"+v))}t=Object(u.jsxs)(E.a,{value:s,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:d,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table",children:[Object(u.jsx)(z.a,{field:"id",expander:!0,style:{width:"6%"}}),Object(u.jsx)(z.a,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),Object(u.jsx)(z.a,{field:"name",header:h,style:{width:"50%"}}),j]})}}return t}},{key:"render",value:function(){var e=this,t="",a="",s="";return this.state.votes||(s=Object(u.jsx)(G.a,{})),le||(t=Object(u.jsx)(U,{url:"http://vota-votingpapers.vige.it:8180/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:function(t){e.setState({votingPaper:t.votingPapers.filter((function(t){return t.id===e.state.votingPaper.id}))[0]})}}),a=Object(u.jsx)(U,{url:"http://vota-voting.vige.it:8080/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),Object(u.jsxs)("div",{className:"tableContent",children:[s,t,a,Object(u.jsx)("div",{id:"headEnti",children:Object(u.jsx)("h3",{children:T()})}),this.renderDataTable(),Object(u.jsx)(W.a,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader(),children:Object(u.jsx)(B,{party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})})]})}}]),a}(s.Component)),X=(a(156),a(157),a(158),a.p+"static/media/logo.11ab22ed.ico"),Y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(r.a)(this,a),s=t.call(this,e);var n={};return(A=e.config).votingPapers&&A.votingPapers[0]&&(n={id:A.votingPapers[0].id,label:A.votingPapers[0].name}),s.state={items:[],activeItem:n,activeItemIndex:0,zone:null,activeTabVote:{id:0,label:Object(u.jsx)(p.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})},activeTabVoteIndex:0},s.voteMap=i.a.createRef(),s.results=i.a.createRef(),s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=0;A.votingPapers.map((function(a){return"bigger"!==a.type&&"bigger-partygroup"!==a.type?e.state.items.push({id:a.id,label:a.name}):0===t&&(e.state.items.push({id:a.id,label:a.name}),t++),a}));var a,s,i=(a=this,s=".vote-tabmenu",o.a.findDOMNode(a).querySelectorAll(s+" .p-menuitem-link"));i&&i[0]&&i[0].click()}},{key:"render",value:function(){var e=this;if(this.state.zone&&("bigger-partygroup"===this.state.votingPaper.type||"bigger"===this.state.votingPaper.type)){var t=this.state.items[0];t.id=this.state.votingPaper.id,t.label=this.state.votingPaper.name}var a="";this.state.votingPaper&&("bigger-partygroup"===this.state.votingPaper.type?a=Object(u.jsx)(q,{ref:this.results,votingPaper:this.state.votingPaper,app:this}):"little"===this.state.votingPaper.type?a=Object(u.jsx)(Q,{ref:this.results,votingPaper:this.state.votingPaper,app:this}):"bigger"===this.state.votingPaper.type?a=Object(u.jsx)($,{ref:this.results,votingPaper:this.state.votingPaper,app:this}):"little-nogroup"===this.state.votingPaper.type&&(a=Object(u.jsx)(J,{ref:this.results,votingPaper:this.state.votingPaper,app:this})));var s="";if(le){s=Object(u.jsx)(p.a,{id:"app.subtitle",values:{0:new Date(le).toLocaleDateString(ce,{year:"numeric",month:"long",day:"numeric"})},defaultMessage:" for {0}"})}var i="";if(!le){i=Object(u.jsx)("div",{className:"box-live",children:Object(u.jsx)("img",{src:"./icona_live.png",className:"img-responsive,inmlive"})})}return Object(u.jsx)("div",{className:"html navbar-is-fixed-top cbp-spmenu-push excludeIE10 enhanced",children:Object(u.jsxs)("div",{className:"content-section implementation",children:[Object(u.jsx)("div",{className:"second-row",children:Object(u.jsxs)("div",{className:"container container-live",children:[i,Object(u.jsx)("div",{className:"box-title",children:Object(u.jsx)(p.a,{id:"app.title",defaultMessage:"Affluence and Results",children:function(e){return Object(u.jsx)("p",{children:Object(u.jsxs)("strong",{children:[e,s]})})}})}),Object(u.jsxs)("div",{className:"powered",children:[Object(u.jsx)("img",{alt:"logo",className:"logo",src:X}),Object(u.jsx)(p.a,{id:"app.powered",defaultMessage:"Powered by",children:function(e){return Object(u.jsxs)("span",{children:[Object(u.jsxs)("p",{children:[e,"\xa0"]}),Object(u.jsx)("a",{href:"http://www.vige.it",children:"Vige"})]})}})]})]})}),Object(u.jsx)(h.a,{ref:"tabMenu",className:"vote-tabmenu",model:this.state.items,activeIndex:this.state.activeItemIndex,onTabChange:function(t){e.setState({activeItem:t.value,votingPaper:b(t.value),activeItemIndex:t.index})}}),Object(u.jsxs)("div",{className:"my-content p-grid",children:[Object(u.jsx)("div",{className:"p-col-fixed",style:{width:"100%",paddingRight:"40px"},children:Object(u.jsx)(M,{ref:this.voteMap,votingPaper:this.state.votingPaper,app:this})}),Object(u.jsx)("div",{className:"p-col",children:a})]})]})})}}]),a}(s.Component),ee=a(164),te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");te?(!function(e,t){fetch(e).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):se(t,e)}))}}function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ie=a(80),ne=(a(159),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"error-boundary",children:[Object(u.jsx)("h2",{children:Object(u.jsx)(p.a,{id:"app.error",defaultMessage:"Something went wrong."})}),Object(u.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.props.error&&this.props.error.toString(),Object(u.jsx)("br",{}),this.props.errorInfo.componentStack]})]})}}]),a}(i.a.Component)),oe=ne,re={it:ie},ce=navigator.language.split(/[-_]/)[0],le="",de="http://vota-votingpapers.vige.it:8180/votingPapers?all";window.location.search.startsWith("?date=")&&(de="http://vota-history.vige.it:8280/votingPapers/"+(le=window.location.search.split("=")[1])),o.a.render(Object(u.jsx)(G.a,{}),document.getElementById("root")),S.a.get(de).then((function(e){o.a.render(Object(u.jsx)(ee.a,{locale:ce,messages:re[ce],children:Object(u.jsx)(Y,{config:e.data})}),document.getElementById("root")),ae()})).catch((function(e){o.a.render(Object(u.jsx)(ee.a,{locale:ce,messages:re[ce],children:Object(u.jsx)(oe,{error:e,errorInfo:e})}),document.getElementById("root")),console.log(e)}))},41:function(e,t,a){},80:function(e){e.exports=JSON.parse('{"it":"Italia","level_0":"Circ. ","level_1":"Regione ","level_2":"Provincia di ","level_3":"Comune di ","app.powered":"Sviluppato da ","app.title":"Affluenza e Risultati","app.subtitle":" del {0}","app.choosezone":"Scegli la zona...","app.table.lists":"Liste","app.table.candidatesandlists":"Candidati Presidente e Liste circoscrizionali","app.table.candidate":"Candidato","app.table.governersandlists":"Candidati Sindaco e Liste","app.table.premiersandlists":"Candidati Premier e Liste","app.table.candidatesandelected":"Candidati ed Eletti","app.table.votes":"Voti","app.table.preferences":"Preferenze","app.table.votings":"Votanti:","app.table.totallists":"Totale liste","app.table.blankpapers":"Schede bianche:","app.table.updatedate":"Dato aggiornato al:","app.error":"Errore","app.tab.ballots":"SCRUTINI","app.tab.ballots.hours":"% ore {0}","app.tab.ballots.numbers":"ore {0}","app.tab.voters":"VOTANTI"}')},89:function(e,t,a){},90:function(e,t,a){},94:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.9aa1d73c.chunk.js.map