(this.webpackJsonpreport=this.webpackJsonpreport||[]).push([[0],{101:function(e,t){},107:function(e,t){},112:function(e,t,a){},115:function(e,t,a){},141:function(e,t,a){},177:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(46),s=a(0),i=a.n(s),o=a(15),r=a.n(o),l=(a(93),a(9)),c=a(10),p=a(12),u=a(11),d=a(13),m=a(2),h=(a(112),a(44)),v=(a(114),a(115),a(35)),f=a(20),g=a(79),b=function(e,t){return r.a.findDOMNode(e).querySelectorAll(t+" .p-menuitem-link")},E=function(e){if(e){var t="";return W.votingPapers.forEach((function(a){a.id===e.id&&(t=a)})),t}return""},y=function(e,t){if(e){var a="";return t.forEach((function(t){t.id===e&&(a=t)})),a}return""},w=function(e,t){var a;return t.id===e?a=t:(t.groups&&t.groups.forEach((function(t){t.id===e?a=t:t.parties.forEach((function(t){t.id===e?a=t:t.candidates&&t.candidates.forEach((function(t){t.id===e&&(a=t)}))}))})),t.parties&&t.parties.forEach((function(t){t.id===e?a=t:t.candidates&&t.candidates.forEach((function(t){t.id===e&&(a=t)}))}))),a},C=function(e,t){var a=0;return t.votingPapers.forEach((function(t){var n=w(e,t);n&&(a=n.electors)})),a},T=function(e,t){var a,n,s=0;if(t.votingPapers.forEach((function(t){var s=w(e,t);s&&(a=s,n=t)})),a){var i=n.electors-n.blankPapers;s=(a.electors/i*100).toFixed(2),isNaN(s)&&(s=0)}return parseFloat(s)},k=function(e,t){var a=t.votingPapers.filter((function(t){return t.id===e}));return a.length>0?a[0].blankPapers:0},S=function(e){var t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};return e.affluence?new Date(e.affluence).toLocaleDateString(ge,t):(new Date).toLocaleDateString(ge,t)},M=function(e){return e?i.a.createElement(m.a,{id:"level_"+e.level},(function(t){return t+" "+e.name})):i.a.createElement(m.a,{id:ge,defaultMessage:"Great Britain"})},O=function e(t,a,n,s,i){a.forEach((function(a){a.id===t?a.zones.forEach((function(e){n.push({label:e.name,value:e.id}),s&&e.zones.forEach((function(e){s.push({label:e.name,value:e.id}),i&&e.zones.forEach((function(e){i.push({label:e.name,value:e.id})}))}))})):e(t,a.zones,n,s,i)}))},P=function(e){e.sort((function(e,t){return e.label<t.label||e.name<t.name?-1:e.label>t.label||e.name>t.name?1:0}))},x=function e(t,a,n){a.forEach((function(a){a.zones.forEach((function(s){s&&(s.id===t?n.push(a):e(t,a.zones,n))}))}))},N=[],j=[],z=[],D=[],R=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={siteSuggestions:null},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"suggestSites",value:function(e){var t=this.sites.filter((function(t){return t.name.toLowerCase().startsWith(e.query.toLowerCase())}));this.setState({siteSuggestions:t})}},{key:"reset",value:function(){this.setState({circumscription:null,region:null,province:null,city:null,site:null})}},{key:"selectComplete",value:function(e){this.props.app.refs.results.setState({zone:e});var t,a=Ee.zones.filter((function(t){return t.id===e.id}))[0],n=Ee.zones.flatMap((function(e){return e.zones})).filter((function(t){return t.id===e.id}))[0],s=Ee.zones.flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).filter((function(t){return t.id===e.id}))[0],i=Ee.zones.flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).filter((function(t){return t.id===e.id}))[0];s||(x(i?i.id:null,Ee.zones,t=[]),s=t.pop()),n||(x(s?s.id:i?i.id:null,Ee.zones,t=[]),n=t.pop()),a||(x(n?n.id:s?s.id:i?i.id:null,Ee.zones,t=[]),a=t.pop()),this.setState({circumscription:a?a.id:null,region:n?n.id:null,province:s?s.id:null,city:i?i.id:null})}},{key:"renderLocations",value:function(){this.props.votingPaper&&Ee&&("little-nogroup"===this.props.votingPaper.type&&(N=Ee.zones.map((function(e){return{label:e.name,value:e.id}}))),null===this.state.circumscription||"little-nogroup"!==this.props.votingPaper.type?j=Ee.zones.flatMap((function(e){return e.zones})).map((function(e){return{label:e.name,value:e.id}})):O(this.state.circumscription,Ee.zones,j=[],z=[],D=[]),null!==this.state.circumscription&&null===this.state.region||(null===this.state.region?z=Ee.zones.flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).map((function(e){return{label:e.name,value:e.id}})):O(this.state.region,Ee.zones,z=[],D=[])),(null===this.state.circumscription&&null===this.state.region||null!==this.state.province)&&(null===this.state.province?D=Ee.zones.flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).flatMap((function(e){return e.zones})).map((function(e){return{label:e.name,value:e.id}})):O(this.state.province,Ee.zones,D=[])),this.sites=[],function e(t,a,n,s){t.zones.forEach((function(t){t.zones&&(("little-nogroup"===a.type||s>0)&&n.push(t),e(t,a,n,s+1))}))}(Ee,this.props.votingPaper,this.sites,0),P(this.sites),P(D),P(z),P(j),P(N))}},{key:"render",value:function(){var e=this;return this.renderLocations(),i.a.createElement("div",null,i.a.createElement(m.a,{id:"app.search",defaultMessage:"Search site..."},(function(t){return i.a.createElement(g.AutoComplete,{field:"name",className:"searchsites",value:e.state.site,onChange:function(t){return e.setState({site:t.value})},onSelect:function(t){e.selectComplete(t.value)},placeholder:t,suggestions:e.state.siteSuggestions,completeMethod:e.suggestSites.bind(e),size:38})})),i.a.createElement(f.Button,{id:"btnSearch",icon:"pi pi-search"}),this.props.votingPaper&&"little-nogroup"===this.props.votingPaper.type&&i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-2"},i.a.createElement(m.a,{id:"app.circumscription",defaultMessage:"Circumscription"},(function(e){return i.a.createElement("label",null,i.a.createElement("b",null,e))})),i.a.createElement(m.a,{id:"app.choosecircumscription",defaultMessage:"Choose circumscription..."},(function(t){return i.a.createElement(v.Dropdown,{value:e.state.circumscription,className:"city",onChange:function(t){e.setState({circumscription:t.value,region:null,province:null,city:null,site:null}),e.props.app.refs.results.setState({zone:y(t.value,e.sites)})},placeholder:t,options:N})})))),i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-fixed",style:{width:"160px"}},i.a.createElement(m.a,{id:"app.region",defaultMessage:"Region"},(function(e){return i.a.createElement("label",null,i.a.createElement("b",null,e))})),i.a.createElement(m.a,{id:"app.chooseregion",defaultMessage:"Choose region..."},(function(t){return i.a.createElement(v.Dropdown,{value:e.state.region,className:"choose",onChange:function(t){var a=[];x(t.value,Ee.zones,a);var n=a.pop();e.setState({circumscription:null!==e.state.circumscription?e.state.circumscription:n.id,region:t.value,province:null,city:null,site:null}),e.props.app.refs.results.setState({zone:y(t.value,e.sites)})},placeholder:t,options:j})}))),i.a.createElement("div",{className:"p-col-2"},i.a.createElement(m.a,{id:"app.province",defaultMessage:"Province"},(function(e){return i.a.createElement("label",null,i.a.createElement("b",null,e))})),i.a.createElement(m.a,{id:"app.chooseprovince",defaultMessage:"Choose province..."},(function(t){return i.a.createElement(v.Dropdown,{value:e.state.province,className:"choose",onChange:function(t){var a=[];x(t.value,Ee.zones,a);var n=a.pop(),s=[];x(n.id,Ee.zones,s);var i=s.pop();e.setState({circumscription:null!==e.state.circumscription?e.state.circumscription:i.id,region:null!==e.state.region?e.state.region:n.id,province:t.value,city:null,site:null}),e.props.app.refs.results.setState({zone:y(t.value,e.sites)})},placeholder:t,options:z})})))),i.a.createElement("div",{className:"p-grid"},i.a.createElement("div",{className:"p-col-2"},i.a.createElement(m.a,{id:"app.city",defaultMessage:"City"},(function(e){return i.a.createElement("label",null,i.a.createElement("b",null,e))})),i.a.createElement(m.a,{id:"app.choosecity",defaultMessage:"Choose city..."},(function(t){return i.a.createElement(v.Dropdown,{value:e.state.city,className:"city",onChange:function(t){var a=[];x(t.value,Ee.zones,a);var n=a.pop(),s=[];x(n.id,Ee.zones,s);var i=s.pop(),o=[];x(i.id,Ee.zones,o);var r=o.pop();e.setState({circumscription:null!==e.state.circumscription?e.state.circumscription:r.id,region:null!==e.state.region?e.state.region:i.id,province:null!==e.state.province?e.state.province:n.id,city:t.value,site:null}),e.props.app.refs.results.setState({zone:y(t.value,e.sites)})},placeholder:t,options:D})})))))}}]),t}(s.Component),_=a(8),V=a(7),L=a(1),H=(a(141),a(80)),I=a.n(H),F=a(81),B=a.n(F),A=a(45),G=a.n(A),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e)))._initStompClient=function(){a.client=B.a.over(new I.a(a.props.url,null,a.props.options)),a.client.heartbeat.outgoing=a.props.heartbeat,a.client.heartbeat.incoming=a.props.heartbeat,Object.keys(a.props).includes("heartbeatIncoming")&&(a.client.heartbeat.incoming=a.props.heartbeatIncoming),Object.keys(a.props).includes("heartbeatOutgoing")&&(a.client.heartbeat.outgoing=a.props.heartbeatOutgoing),a.props.debug||(a.client.debug=function(){})},a._cleanUp=function(){a.setState({connected:!1}),a.retryCount=0,a.subscriptions.clear()},a._log=function(e){a.props.debug&&console.log(e)},a._subscribe=function(e){if(!a.subscriptions.has(e)){var t=a.client.subscribe(e,(function(e){a.props.onMessage(a._processMessage(e.body),e.headers.destination)}),a.props.subscribeHeaders);a.subscriptions.set(e,t)}},a._processMessage=function(e){try{return JSON.parse(e)}catch(t){return e}},a._unsubscribe=function(e){a.subscriptions.get(e).unsubscribe(),a.subscriptions.delete(e)},a._connect=function(){a._initStompClient(),a.client.connect(a.props.headers,(function(){a.setState({connected:!0}),a.props.topics.forEach((function(e){a._subscribe(e)})),a.props.onConnect()}),(function(e){e&&(Object.keys(a.props).includes("onConnectFailure")?a.props.onConnectFailure(e):a._log(e.stack)),a.state.connected&&(a._cleanUp(),a.props.onDisconnect()),a.props.autoReconnect&&!a.state.explicitDisconnect&&(a._timeoutId=setTimeout(a._connect,a.props.getRetryInterval(a.retryCount++)))}))},a.connect=function(){a.setState({explicitDisconnect:!1}),a.state.connected||a._connect()},a.disconnect=function(){a._timeoutId&&(clearTimeout(a._timeoutId),a._timeoutId=null),a.setState({explicitDisconnect:!0}),a.state.connected&&(a.subscriptions.forEach((function(e,t){a._unsubscribe(t)})),a.client.disconnect((function(){a._cleanUp(),a.props.onDisconnect(),a._log("Stomp client is successfully disconnected!")})))},a.sendMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!a.state.connected)throw new Error("Send error: SockJsClient is disconnected");a.client.send(e,n,t)},a.state={connected:!1,explicitDisconnect:!1},a.subscriptions=new Map,a.retryCount=0,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._connect()}},{key:"componentWillUnmount",value:function(){this.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.state.connected&&(G.a.difference(e.topics,this.props.topics).forEach((function(e){t._log("Subscribing to topic: "+e),t._subscribe(e)})),G.a.difference(this.props.topics,e.topics).forEach((function(e){t._log("Unsubscribing from topic: "+e),t._unsubscribe(e)})))}},{key:"render",value:function(){return null}}]),t}(i.a.Component);U.defaultProps={onConnect:function(){},onDisconnect:function(){},getRetryInterval:function(e){return 1e3*e},options:{},headers:{},subscribeHeaders:{},autoReconnect:!0,debug:!1,heartbeat:1e4};var W,J=U,q=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"candidateTemplate",value:function(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.props.party){var a=this.props.party.candidates.map((function(t){for(var a=C(t.id,e.props.votes[e.props.votes.length-1]),n={id:t.id,name:t.name,image:t.image,votes:a},s=0;s<e.props.votes.length;s++)n["votes"+s]=C(t.id,e.props.votes[s]);return n})),n=i.a.createElement(m.a,{id:"app.table.candidate",defaultMessage:"Candidate"}),s=i.a.createElement(m.a,{id:"app.table.preferences",defaultMessage:"Preferences"});if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(V.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table"},i.a.createElement(L.Column,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),i.a.createElement(L.Column,{field:"name",header:n,style:{width:"70%"}}),i.a.createElement(L.Column,{field:"votes",header:s}));else{for(var o=[],r=0;r<this.props.votes.length;r++){var l=i.a.createElement(m.a,{id:"app.tab.ballots.numbers",defaultMessage:"hours {0}",values:{0:new Date(this.props.votes[r].affluence).toLocaleTimeString(ge,{hour:"numeric",minute:"numeric"})}});o.push(i.a.createElement(L.Column,{key:"percent-columns-"+r,field:"votes"+r,header:l}))}t=i.a.createElement(V.DataTable,{value:a,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",className:"candidates-table"},i.a.createElement(L.Column,{field:"image",body:this.candidateTemplate,style:{width:"14%"}}),i.a.createElement(L.Column,{field:"name",header:n,style:{width:"50%"}}),o)}}return t}},{key:"render",value:function(){var e=this;if(this.props.party){var t="";return be||(t=i.a.createElement(J,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),i.a.createElement("div",{className:"tableContent"},t,i.a.createElement("div",{className:"party-for-candidates"},i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.party.image),alt:this.props.party.name,style:{width:"66px",left:"2%",bottom:"6px",position:"relative"}}),i.a.createElement("div",{className:"title-for-candidates"},this.props.party.name)),this.renderDataTable())}return""}}]),t}(s.Component),$=a(26),K=(a(39),a(177),a(19)),Q=a.n(K),X=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={zone:null,showCandidates:null,selectedParty:null};var a="https://vota-voting.vige.it:8443/result";return be&&(a="https://vota-history.vige.it:8643/result/"+be),Q.a.get(a).then((function(t){e.setState({votes:t.data.votings})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(_.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(_.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderModalHeader",value:function(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,M(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(m.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}},{key:"candidatesTemplate",value:function(e){var t=this,a=w(e.id,this.props.app.state.votingPaper);return a.candidates?i.a.createElement(f.Button,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"partyTemplate",value:function(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"reset",value:function(){this.setState({zone:null})}},{key:"render",value:function(){var e=this,t="",a="";if(this.state.votes&&this.props.app.state.votingPaper){be||(t=i.a.createElement(J,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}}));var n=this.state.votes[this.state.votes.length-1],s=i.a.createElement(m.a,{id:"app.table.votings",defaultMessage:"Votings:"}),o=i.a.createElement(m.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),r=C(this.props.app.state.votingPaper.id,n),l=k(this.props.app.state.votingPaper.id,n),c=i.a.createElement(m.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),p=S(n),u=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},r)," \xa0",o," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",c," ",i.a.createElement("span",{className:"footer-value"},p)),d=this.props.app.state.votingPaper.parties.map((function(t){for(var a=C(t.id,n),s=T(t.id,n),i={id:t.id,name:t.name,image:t.image,votes:a,percent:s},o=0;o<e.state.votes.length;o++)i["percent"+o]=T(t.id,e.state.votes[o]);return i})),h=i.a.createElement(m.a,{id:"app.table.lists",defaultMessage:"Lists"}),v=i.a.createElement(m.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)a=i.a.createElement(V.DataTable,{value:d,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u},i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:h,body:this.candidatesTemplate,style:{width:"70%"}}),i.a.createElement(L.Column,{field:"votes",header:v}),i.a.createElement(L.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var f=[],g=0;g<this.state.votes.length;g++){var b=i.a.createElement(m.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[g].affluence).toLocaleTimeString(ge,{hour:"numeric",minute:"numeric"})}});f.push(i.a.createElement(L.Column,{key:"percent-columns-"+g,field:"percent"+g,header:b,style:{width:"10%"}}))}a=i.a.createElement(V.DataTable,{value:d,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u},i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:h,body:this.candidatesTemplate}),f)}}return i.a.createElement("div",{className:"tableContent"},t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,M(this.state.zone))),a,i.a.createElement($.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(q,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}]),t}(s.Component),Y=a(22),Z=a(23),ee=(a(197),function(e){function t(){var e;Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var a="https://vota-voting.vige.it:8443/result";return be&&(a="https://vota-history.vige.it:8643/result/"+be),Q.a.get(a).then((function(t){e.setState({votes:t.data.votings})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(_.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(_.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(_.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(_.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderModalHeader",value:function(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,M(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(m.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}},{key:"candidatesTemplate",value:function(e){var t=this,a=w(e.id,this.props.app.state.votingPaper);return a.candidates?i.a.createElement(f.Button,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.props.app.state.votingPaper){var n=this.state.votes[this.state.votes.length-1],s=w(e.id,this.props.app.state.votingPaper).parties,o=0,r=0,l=[],c=s.map((function(e){var a=C(e.id,n);o+=a;var s=T(e.id,n);r+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},c=0;c<t.state.votes.length;c++)i["percent"+c]=T(e.id,t.state.votes[c]),l+=i["percent"+c];return i})),p="";if(s.length>1){var u=i.a.createElement(m.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),i.a.createElement(L.Column,{footer:o}),i.a.createElement(L.Column,{footer:r})));else{for(var d=[],h=0;h<this.state.votes.length;h++)d.push(i.a.createElement(L.Column,{key:"percent-columns-"+h,footer:l[h]}));p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),d))}}if(0===this.props.app.state.activeTabVote.id)a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"biggernogroup-sub-header"},i.a.createElement(L.Column,null),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(L.Column,{field:"votes"}),i.a.createElement(L.Column,{field:"percent",style:{width:"8%"}}));else{for(var v,f=[],g=0;g<this.state.votes.length;g++)f.push(i.a.createElement(L.Column,{key:"percent-columns-"+g,field:"percent"+g,style:{width:"10%"}}));v=80-10*this.state.votes.length,a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"biggernogroup-sub-header"},i.a.createElement(L.Column,{style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",body:this.candidatesTemplate,style:{width:v+"%"}}),f)}}return a}},{key:"partyTemplate",value:function(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=w(e.id,this.props.app.state.votingPaper).parties.map((function(t){return t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""})),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}},{key:"reset",value:function(){this.setState({zone:null})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.props.app.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],n=this.props.app.state.votingPaper.groups.map((function(t){for(var n=C(t.id,a),s=T(t.id,a),i={id:t.id,name:t.name,image:t.image,votes:n,percent:s},o=0;o<e.state.votes.length;o++)i["percent"+o]=T(t.id,e.state.votes[o]);return i})),s=i.a.createElement(m.a,{id:"app.table.votings",defaultMessage:"Votings:"}),o=i.a.createElement(m.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),r=C(this.props.app.state.votingPaper.id,a),l=k(this.props.app.state.votingPaper.id,a),c=i.a.createElement(m.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),p=S(a),u=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},r)," \xa0",o," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",c," ",i.a.createElement("span",{className:"footer-value"},p)),d=i.a.createElement(m.a,{id:"app.table.candidatesandlists",defaultMessage:"Candidates and Lists"}),h=i.a.createElement(m.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table"},i.a.createElement(L.Column,{field:"id",expander:!0}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d,body:this.listsTemplate,className:"padding-name",style:{width:"70%"}}),i.a.createElement(L.Column,{field:"votes",header:h}),i.a.createElement(L.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var v,f=[],g=0;g<this.state.votes.length;g++){var b=i.a.createElement(m.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[g].affluence).toLocaleTimeString(ge,{hour:"numeric",minute:"numeric"})}});f.push(i.a.createElement(L.Column,{key:"percent-columns-"+g,field:"percent"+g,header:b,style:{width:"10%"}}))}v=80-10*this.state.votes.length,t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"biggernogroup-table"},i.a.createElement(L.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d,className:"padding-name",style:{width:v+"%"}}),f)}}return t}},{key:"render",value:function(){var e=this,t="";return be||(t=i.a.createElement(J,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),i.a.createElement("div",{className:"tableContent"},t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,M(this.state.zone))),this.renderDataTable(),i.a.createElement($.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(q,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}]),t}(s.Component)),te=(a(198),function(e){function t(){var e;Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var a="https://vota-voting.vige.it:8443/result";return be&&(a="https://vota-history.vige.it:8643/result/"+be),Q.a.get(a).then((function(t){e.setState({votes:t.data.votings})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(_.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(_.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(_.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(_.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderModalHeader",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,M(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(m.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}},{key:"candidatesTemplate",value:function(e){var t=this,a=w(e.id,this.props.app.state.votingPaper);return a.candidates?i.a.createElement(f.Button,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.props.app.state.votingPaper){var n=this.state.votes[this.state.votes.length-1],s=w(e.id,this.props.app.state.votingPaper).parties,o=0,r=0,l=[],c=s.map((function(e){var a=C(e.id,n);o+=a;var s=T(e.id,n);r+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},c=0;c<t.state.votes.length;c++)i["percent"+c]=T(e.id,t.state.votes[c]),l+=i["percent"+c];return i})),p="";if(s.length>1){var u=i.a.createElement(m.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),i.a.createElement(L.Column,{footer:o}),i.a.createElement(L.Column,{footer:r})));else{for(var d=[],h=0;h<this.state.votes.length;h++)d.push(i.a.createElement(L.Column,{key:"percent-columns-"+h,footer:l[h]}));p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),d))}}if(0===this.props.app.state.activeTabVote.id)a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"bigger-sub-header"},i.a.createElement(L.Column,null),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(L.Column,{field:"votes"}),i.a.createElement(L.Column,{field:"percent",style:{width:"8%"}}));else{for(var v=[],f=0;f<this.state.votes.length;f++)v.push(i.a.createElement(L.Column,{key:"percent-columns-"+f,field:"percent"+f,style:{width:"10%"}}));a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"bigger-sub-header"},i.a.createElement(L.Column,{style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",body:this.candidatesTemplate}),v)}}return a}},{key:"partyTemplate",value:function(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=w(e.id,this.props.app.state.votingPaper).parties.map((function(t){return t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""})),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}},{key:"reset",value:function(){this.setState({zone:null})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.props.app.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],n=this.props.app.state.votingPaper.groups.map((function(t){for(var n=C(t.id,a),s=T(t.id,a),i={id:t.id,name:t.name,image:t.image,votes:n,percent:s},o=0;o<e.state.votes.length;o++)i["percent"+o]=T(t.id,e.state.votes[o]);return i})),s=i.a.createElement(m.a,{id:"app.table.votings",defaultMessage:"Votings:"}),o=i.a.createElement(m.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),r=C(this.props.app.state.votingPaper.id,a),l=k(this.props.app.state.votingPaper.id,a),c=i.a.createElement(m.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),p=S(a),u=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},r)," \xa0",o," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",c," ",i.a.createElement("span",{className:"footer-value"},p)),d=i.a.createElement(m.a,{id:"app.table.governersandlists",defaultMessage:"Candidates and Lists"}),h=i.a.createElement(m.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table"},i.a.createElement(L.Column,{field:"id",expander:!0}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d,body:this.listsTemplate,style:{width:"70%"}}),i.a.createElement(L.Column,{field:"votes",header:h}),i.a.createElement(L.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var v=[],f=0;f<this.state.votes.length;f++){var g=i.a.createElement(m.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[f].affluence).toLocaleTimeString(ge,{hour:"numeric",minute:"numeric"})}});v.push(i.a.createElement(L.Column,{key:"percent-columns-"+f,field:"percent"+f,header:g,style:{width:"10%"}}))}t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"bigger-table"},i.a.createElement(L.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d}),v)}}return t}},{key:"render",value:function(){var e=this,t="";return be||(t=i.a.createElement(J,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:function(t){console.log(t),e.setState({votes:t.votings})}})),i.a.createElement("div",{className:"tableContent"},t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,M(this.state.zone))),this.renderDataTable(),i.a.createElement($.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(q,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}]),t}(s.Component)),ae=(a(199),function(e){function t(){var e;Object(l.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={zone:null,expandedRows:null,showCandidates:null,selectedParty:null};var a="https://vota-voting.vige.it:8443/result";return be&&(a="https://vota-history.vige.it:8643/result/"+be),Q.a.get(a).then((function(t){e.setState({votes:t.data.votings})})).catch((function(e){console.log(e)})),e.partyTemplate=e.partyTemplate.bind(Object(_.a)(e)),e.listsTemplate=e.listsTemplate.bind(Object(_.a)(e)),e.rowExpansionTemplate=e.rowExpansionTemplate.bind(Object(_.a)(e)),e.candidatesTemplate=e.candidatesTemplate.bind(Object(_.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderModalHeader",value:function(){return i.a.createElement("div",{id:"headEnti"},i.a.createElement("h2",null,M(this.state.zone)),i.a.createElement("h3",null,i.a.createElement(m.a,{id:"app.table.candidatesandelected",defaultMessage:"Candidates and Elected"})))}},{key:"candidatesTemplate",value:function(e){var t=this,a=w(e.id,this.props.app.state.votingPaper);return a.candidates?i.a.createElement(f.Button,{label:e.name,className:"candidates-button",onClick:function(){return t.setState({showCandidates:!0,selectedParty:a})}}):e.name}},{key:"rowExpansionTemplate",value:function(e){var t=this,a="";if(this.state.votes&&this.props.app.state.votingPaper){var n=this.state.votes[this.state.votes.length-1],s=w(e.id,this.props.app.state.votingPaper).parties,o=0,r=0,l=[],c=s.map((function(e){var a=C(e.id,n);o+=a;var s=T(e.id,n);r+=s;for(var i={id:e.id,name:e.name,image:e.image,votes:a,percent:s},c=0;c<t.state.votes.length;c++)i["percent"+c]=T(e.id,t.state.votes[c]),l+=i["percent"+c];return i})),p="";if(s.length>1){var u=i.a.createElement(m.a,{id:"app.table.totallists",defaultMessage:"Total lists"});if(0===this.props.app.state.activeTabVote.id)p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),i.a.createElement(L.Column,{footer:o}),i.a.createElement(L.Column,{footer:r})));else{for(var d=[],h=0;h<this.state.votes.length;h++)d.push(i.a.createElement(L.Column,{key:"percent-columns-"+h,footer:l[h]}));p=i.a.createElement(Y.ColumnGroup,null,i.a.createElement(Z.Row,null,i.a.createElement(L.Column,{colSpan:2}),i.a.createElement(L.Column,{footer:u}),d))}}if(0===this.props.app.state.activeTabVote.id)a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"little-sub-header"},i.a.createElement(L.Column,null),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",style:{width:"70%"},body:this.candidatesTemplate}),i.a.createElement(L.Column,{field:"votes"}),i.a.createElement(L.Column,{field:"percent",style:{width:"8%"}}));else{for(var v=[],f=0;f<this.state.votes.length;f++)v.push(i.a.createElement(L.Column,{key:"percent-columns-"+f,field:"percent"+f,style:{width:"10%"}}));a=i.a.createElement(V.DataTable,{value:c,sortField:"votes",sortOrder:-1,footerColumnGroup:p,className:"little-sub-header"},i.a.createElement(L.Column,{style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",style:{width:"50%"},body:this.candidatesTemplate}),v)}}return a}},{key:"partyTemplate",value:function(e){return e.image?i.a.createElement("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"66px",left:"10%",top:"2px",position:"relative"}}):""}},{key:"listsTemplate",value:function(e){var t;return t=w(e.id,this.props.app.state.votingPaper).parties.map((function(t){return t.image?i.a.createElement("img",{key:t.id,src:"data:image/jpeg;base64,".concat(t.image),alt:e.name,style:{width:"10%"}}):""})),i.a.createElement("div",null,e.name,i.a.createElement("div",{className:"border-images"},i.a.createElement("span",{className:"party-images"},t)))}},{key:"reset",value:function(){this.setState({zone:null})}},{key:"renderDataTable",value:function(){var e=this,t="";if(this.state.votes&&this.props.app.state.votingPaper){var a=this.state.votes[this.state.votes.length-1],n=this.props.app.state.votingPaper.groups.map((function(t){for(var n=C(t.id,a),s=T(t.id,a),i={id:t.id,name:t.name,image:t.image,votes:n,percent:s},o=0;o<e.state.votes.length;o++)i["percent"+o]=T(t.id,e.state.votes[o]);return i})),s=i.a.createElement(m.a,{id:"app.table.votings",defaultMessage:"Votings:"}),o=i.a.createElement(m.a,{id:"app.table.blankpapers",defaultMessage:"Blank papers:"}),r=C(this.props.app.state.votingPaper.id,a),l=k(this.props.app.state.votingPaper.id,a),c=i.a.createElement(m.a,{id:"app.table.updatedate",defaultMessage:"Data updated to:"}),p=S(a),u=i.a.createElement("div",null,s," ",i.a.createElement("span",{className:"footer-value"},r)," \xa0",o," ",i.a.createElement("span",{className:"footer-value"},l)," \xa0",c," ",i.a.createElement("span",{className:"footer-value"},p)),d=i.a.createElement(m.a,{id:"app.table.premiersandlists",defaultMessage:"Premiers and Lists"}),h=i.a.createElement(m.a,{id:"app.table.votes",defaultMessage:"Votes"});if(0===this.props.app.state.activeTabVote.id)t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table"},i.a.createElement(L.Column,{field:"id",expander:!0}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d,body:this.listsTemplate,style:{width:"70%"}}),i.a.createElement(L.Column,{field:"votes",header:h}),i.a.createElement(L.Column,{field:"percent",header:"%",style:{width:"8%"}}));else{for(var v=[],f=0;f<this.state.votes.length;f++){var g=i.a.createElement(m.a,{id:"app.tab.ballots.hours",defaultMessage:"% hours {0}",values:{0:new Date(this.state.votes[f].affluence).toLocaleTimeString(ge,{hour:"numeric",minute:"numeric"})}});v.push(i.a.createElement(L.Column,{key:"percent-columns-"+f,field:"percent"+f,header:g,style:{width:"10%"}}))}t=i.a.createElement(V.DataTable,{value:n,sortField:"votes",sortOrder:-1,scrollable:!0,scrollHeight:"450px",footer:u,expandedRows:this.state.expandedRows,onRowToggle:function(t){return e.setState({expandedRows:t.data})},rowExpansionTemplate:this.rowExpansionTemplate,className:"little-table"},i.a.createElement(L.Column,{field:"id",expander:!0,style:{width:"6%"}}),i.a.createElement(L.Column,{field:"image",body:this.partyTemplate,style:{width:"10%"}}),i.a.createElement(L.Column,{field:"name",header:d,style:{width:"50%"}}),v)}}return t}},{key:"render",value:function(){var e=this,t="";return be||(t=i.a.createElement(J,{url:"https://vota-voting.vige.it:8443/vote-websocket",topics:["/topic/vote"],onMessage:function(t){e.setState({votes:t.votings})}})),i.a.createElement("div",{className:"tableContent"},t,i.a.createElement("div",{id:"headEnti"},i.a.createElement("h3",null,M(this.state.zone))),this.renderDataTable(),i.a.createElement($.Dialog,{visible:this.state.showCandidates,modal:!0,onHide:function(){return e.setState({showCandidates:!1})},style:{width:"50vw"},header:this.renderModalHeader()},i.a.createElement(q,{zone:this.state.zone,party:this.state.selectedParty,votes:this.state.votes,app:this.props.app})))}}]),t}(s.Component)),ne=(a(200),a(201),a(202),a(82)),se=a.n(ne),ie=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(p.a)(this,Object(u.a)(t).call(this,e));var n={};return(W=e.config).votingPapers&&W.votingPapers[0]&&(n={id:W.votingPapers[0].id,label:W.votingPapers[0].name}),a.state={items:[],tabvotes:[{id:0,label:i.a.createElement(m.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})},{id:1,label:i.a.createElement(m.a,{id:"app.tab.voters",defaultMessage:"VOTERS"})}],activeItem:n,activeTabVote:{id:0,label:i.a.createElement(m.a,{id:"app.tab.ballots",defaultMessage:"BALLOTS"})}},W.votingPapers.map((function(e){return a.state.items.push({id:e.id,label:e.name})})),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=b(this,".vote-tabmenu");e&&e[0]&&(e[0].click(),be&&b(this,".vote-tabvotes")[0].click())}},{key:"render",value:function(){var e=this,t="",a="";this.state.votingPaper&&("bigger-partygroup"===this.state.votingPaper.type?t=i.a.createElement(ee,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"little"===this.state.votingPaper.type?t=i.a.createElement(ae,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"bigger"===this.state.votingPaper.type?t=i.a.createElement(te,{ref:"results",votingPaper:this.state.votingPaper,app:this}):"little-nogroup"===this.state.votingPaper.type&&(t=i.a.createElement(X,{ref:"results",votingPaper:this.state.votingPaper,app:this})));var n="";if(be){n=i.a.createElement(m.a,{id:"app.subtitle",values:{0:new Date(be).toLocaleDateString(ge,{year:"numeric",month:"long",day:"numeric"})},defaultMessage:" for {0}"}),a=i.a.createElement(h.TabMenu,{ref:"tabVotes",className:"vote-tabvotes",model:this.state.tabvotes,activeItem:this.state.activeTabVote,onTabChange:function(t){e.setState({activeTabVote:t.value}),e.refs.voteMap.reset(),e.refs.results&&e.refs.results.reset()}})}return i.a.createElement("div",{className:"html navbar-is-fixed-top cbp-spmenu-push excludeIE10 enhanced"},i.a.createElement("div",{className:"content-section implementation"},i.a.createElement("div",{className:"second-row"},i.a.createElement("div",{className:"container container-live"},i.a.createElement("div",{className:"box-live"},i.a.createElement("div",{className:"img-responsive inmlive"})),i.a.createElement("div",{className:"box-title"},i.a.createElement(m.a,{id:"app.title",defaultMessage:"Affluence and Results"},(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,e,n))}))),i.a.createElement("div",{className:"powered"},i.a.createElement("img",{alt:"logo",className:"logo",src:se.a}),i.a.createElement(m.a,{id:"app.powered",defaultMessage:"Powered by"},(function(e){return i.a.createElement("p",null,e," ",i.a.createElement("a",{href:"http://www.vige.it"},"Vige"))}))))),i.a.createElement(h.TabMenu,{ref:"tabMenu",className:"vote-tabmenu",model:this.state.items,activeItem:this.state.activeItem,onTabChange:function(t){e.setState({activeItem:t.value,votingPaper:E(t.value)}),e.refs.voteMap.reset(),e.refs.results&&e.refs.results.reset()}}),a,i.a.createElement("div",{className:"my-content p-grid"},i.a.createElement("div",{className:"p-col-fixed",style:{width:"360px",paddingRight:"40px"}},i.a.createElement(R,{ref:"voteMap",votingPaper:this.state.votingPaper,app:this})),i.a.createElement("div",{className:"p-col"},t))))}}]),t}(s.Component),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e){if("serviceWorker"in navigator){if(new URL("/report",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/report","/service-worker.js");oe?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):le(t,e)}))}}function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ce=a(83),pe=a.n(ce),ue=a(84),de=a.n(ue),me=a(85),he=a(86),ve=(a(204),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"error-boundary"},i.a.createElement("h2",null,i.a.createElement(m.a,{id:"app.error",defaultMessage:"Something went wrong."})),i.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.props.error&&this.props.error.toString(),i.a.createElement("br",null),this.props.errorInfo.componentStack))}}]),t}(i.a.Component));a.d(t,"language",(function(){return ge})),a.d(t,"history",(function(){return be})),a.d(t,"locations",(function(){return Ee})),Object(m.c)([].concat(Object(n.a)(pe.a),Object(n.a)(de.a)));var fe={it:me},ge=navigator.language.split(/[-_]/)[0],be="",Ee="",ye="https://vota-votingpapers.vige.it:8543/votingPapers";window.location.search.startsWith("?date=")&&(ye="https://vota-history.vige.it:8643/votingPapers/"+(be=window.location.search.split("=")[1])),console.log(ye),r.a.render(i.a.createElement(he.ProgressSpinner,null),document.getElementById("root")),Q.a.get(ye).then((function(e){Q.a.get("https://cities-generator-service.vige.it:8743/cities").then((function(t){Ee=t.data,r.a.render(i.a.createElement(m.b,{locale:ge,messages:fe[ge]},i.a.createElement(ie,{config:e.data})),document.getElementById("root")),re()}))})).catch((function(e){r.a.render(i.a.createElement(m.b,{locale:ge,messages:fe[ge]},i.a.createElement(ve,{error:e,errorInfo:e})),document.getElementById("root")),console.log(e)}))},39:function(e,t,a){},77:function(e,t){},82:function(e,t,a){e.exports=a.p+"static/media/logo.71fca57e.ico"},85:function(e){e.exports=JSON.parse('{"it":"Italia","level_0":"Circ. ","level_1":"Regione ","level_2":"Provincia di ","level_3":"Comune di ","app.powered":"Sviluppato da ","app.title":"Affluenza e Risultati","app.subtitle":" del {0}","app.region":"Regione","app.province":"Provincia","app.search":"Cerca ente...","app.chooseregion":"Scegli regione...","app.chooseprovince":"Scegli provincia...","app.choosecity":"Scegli comune...","app.choosecircumscription":"Scegli circoscrizione...","app.city":"Comune","app.circumscription":"Circoscrizione","app.table.lists":"Liste","app.table.candidatesandlists":"Candidati Presidente e Liste circoscrizionali","app.table.candidate":"Candidato","app.table.governersandlists":"Candidati Sindaco e Liste","app.table.premiersandlists":"Candidati Premier e Liste","app.table.candidatesandelected":"Candidati ed Eletti","app.table.votes":"Voti","app.table.preferences":"Preferenze","app.table.votings":"Votanti:","app.table.totallists":"Totale liste","app.table.blankpapers":"Schede bianche:","app.table.updatedate":"Dato aggiornato al:","app.error":"Errore","app.tab.ballots":"SCRUTINI","app.tab.ballots.hours":"% ore {0}","app.tab.ballots.numbers":"ore {0}","app.tab.voters":"VOTANTI"}')},88:function(e,t,a){e.exports=a(206)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.d91dfbcb.chunk.js.map